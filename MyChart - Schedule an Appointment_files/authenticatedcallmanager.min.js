Epic.PatientAccess.Utilities.AuthenticatedCallManager=function Epic$PatientAccess$Utilities$AuthenticatedCallManager(){};Epic.PatientAccess.Utilities.AuthenticatedCallManager.prototype={_ajaxParams:{},_deferredFunction:null,_errorUrl:"~/Home/OpenSchedulingError",MakeDeferredCall:function Epic$PatientAccess$Utilities$AuthenticatedCallManager$MakeDeferredCall(){if(this._deferredFunction)try{this._deferredFunction()}catch(a){$$WPUtil.ShowUrlInLightbox(this._errorUrl)}},MakeAuthenticatedCall:function Epic$PatientAccess$Utilities$AuthenticatedCallManager$MakeAuthenticatedCall(e,c,f,d){var a=this,b=a;b._ajaxParams=e;a._deferredFunction=function(){$.ajax(b._ajaxParams)};if(!f&&a.SessionIsAuthenticated())a.MakeDeferredCall();else a.ShowAuthForm(function(){b.MakeDeferredCall.apply(b)},c,d)},SessionIsAuthenticated:function Epic$PatientAccess$Utilities$AuthenticatedCallManager$SessionIsAuthenticated(){var b=$afe.select("div#urls").find("#authcheck-url").safeAttr("data-url"),a=false;$.ajax({url:b,type:"post",async:false,suppressEpicDefaultAjaxErrorHandler:true,success:function(b){a=!!b.IsAuthenticated}});return a},ShowAuthForm:function Epic$PatientAccess$Utilities$AuthenticatedCallManager$ShowAuthForm(d,c,e){var b,a;b="484C8283-2719-4E8C-BE5C-666C65903FAD_loginSignup";a=$$WPUtil.GetUniqueJQueryById(b,"loginSignupContainer");if(c&&typeof c==="function")c(a);else{$$WPUtil.ShowContainerAsLightbox(a,null,e);a.safeAttr("tabindex","-1").focus()}b="DFA7477E-2068-4DCA-99B0-794909E5892F_login";Epic.PatientAccess.Utilities.RegisterCallbackForType($$WPUtil.CallbackTypeEnum.Authenticate,d);b="D72B7F4E-B2DD-4A94-8A76-DC628995805C_signup";Epic.PatientAccess.Utilities.RegisterCallbackForType($$WPUtil.CallbackTypeEnum.Authenticate,d)}}