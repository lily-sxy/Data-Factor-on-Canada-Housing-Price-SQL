$$WP=$$WP||{};(function ClassDefinition(){var a=null,c="matchColumnHeights",b="function",f=".messagedisplay",h=function WP$Captcha$Captcha(d,c){var a="Authentication.Captcha",b=this;b._root$=d;i();b.ErrorMessageForBlankCaptcha=$$WP.Strings.get("reCAPTCHABlank",a);b.PreText=$$WP.Strings.get("reCAPTCHAPretext",a);b.LabelText=$$WP.Strings.get("reCAPTCHALabel",a);b._successCallback=c};h.prototype={Render:function WP$Captcha$Render(){if(g()&&e.PublicKey)this._renderCore(this._root$);else d.push(this)},GetResponse:function WP$Captcha$GetResponse(g,a){var d=grecaptcha.getResponse(this._widgetId),e=this._root$.children(f);if(d.length>0){e.empty();g(d)}else{e.empty().safeAppend($$WP.SimpleTemplates.ValidationMessage(this.ErrorMessageForBlankCaptcha));a!==undefined&&typeof a===b&&a()}$afe.jq(window).trigger(c)},Reset:function WP$Captcha$Reset(){grecaptcha.reset(this._widgetId);$afe.jq(window).trigger(c)},AttachToFormSubmit:function WP$Captcha$AttachToFormSubmit(b){var a="";b.on("submit",$.proxy(function(b){this.GetResponse(function(b){a=b});if(a.length===0){b.preventDefault();b.stopImmediatePropagation()}},this))},ShowError:function WP$Captcha$ShowError(){var a=this._root$.children(f);a.empty().safeAppend($$WP.SimpleTemplates.ValidationMessage(this.ErrorMessageForBlankCaptcha))},Type:"visible",PreText:a,LabelText:a,ErrorMessageForBlankCaptcha:a,_root$:a,_widgetId:a,_successCallback:a,_renderCore:function WP$Captcha$_renderCore(f){var d=this,g={sitekey:e.PublicKey};if(d._successCallback!=a&&typeof d._successCallback===b)g.callback=d._successCallback;f.safeAppend($$WP.SimpleTemplates.Div({"class":"visuallabel"},d.PreText));f.safeAppend($$WP.SimpleTemplates.Label({"class":"clearlabel","for":"g-recaptcha-response",id:"captcha-label-"+ +new Date},d.LabelText));f.safeAppend($$WP.SimpleTemplates.Div({"class":"__captchaCore"}));f.safeAppend($$WP.SimpleTemplates.Div({"class":"__captchaMessage  messagedisplay","aria-live":"polite"}));d._widgetId=grecaptcha.render(f.children(".__captchaCore").get(0),g);$afe.jq(window).trigger(c)}};var j=function WP$Captcha$s_renderAllCaptcha(){if(g()&&e.PublicKey){for(var a=0;a<d.length;++a)d[a].Render();d=[]}},g=function WP$Captcha$s_isCoreLibraryLoaded(){return window.grecaptcha!==undefined&&typeof grecaptcha.render===b},i=function WP$Captcha$s_loadCaptchaSettings(){e.PublicKey=$afe.select("#__CAPTCHAkey").data("captcha-key")},e={PublicKey:a},d=[];$$WP.Captcha=h;$$WP.Captcha.RenderAllCaptcha=j})();$$WP$Captcha$RenderAllCaptcha=$$WP.Captcha.RenderAllCaptcha