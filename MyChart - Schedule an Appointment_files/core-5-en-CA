function callback(n,t,i){document.forms[0].year.value=n;document.forms[0].month.value=getMonthName(t+1);document.forms[0].day.value=i}function createClickFunction(n){function t(t){for(var e="currentselected",i=WP.Events.getThis(t),r,f,u;i.nodeName.toUpperCase()!=="TD";)i=i.parentNode;if(r=i.id||i.getAttribute("name"),r==="calnext")return _dateChooser.drawNextMonth(),WP.Events.cancelEvent(t),WP.Events.preventDefault(t),!1;if(r==="calprev")return _dateChooser.drawPreviousMonth(),WP.Events.cancelEvent(t),WP.Events.preventDefault(t),!1;if(r==="calcancel"){_dateChooser.clearCalendar();return}return f=r.replace("cal",""),u=makeDate(_dateChooser.year,_dateChooser.month+1,f),u.getMonth()!=_dateChooser.month?(_dateChooser.year=u.getFullYear(),_dateChooser.month=u.getMonth(),_dateChooser.date=u.getDate()):_dateChooser.date=f,$afe.select(".currentselected").removeClass(e),$afe.jq(i).addClass(e),n.call(_dateChooser,_dateChooser.year,_dateChooser.month,_dateChooser.date,_dateChooser.input),_dateChooser.clearCalendar(),WP.Events.cancelEvent(t),WP.Events.preventDefault(t),!1}return t}function DateChooser(n,t,i,r,u){var e="UI.Calendar",f=this;f.trigger=n;f.callback=t;f.input=u;f.filter=i||function(){return!0};r&&typeof r.getYear=="function"?f.today=r:typeof r=="string"?(f.today=new Date(r),isNaN(f.today)&&(f.today=new Date)):f.today=new Date;f.month=f.today.getMonth();f.year=f.today.getFullYear();f.date=f.today.getDate();f.calendar=null;f.clickFunction=createClickFunction(t);f.hoverText=$$WP.Strings.get("SelectTooltip",e);f.hoverTextDisabled=$$WP.Strings.get("NotAvailableTooltip",e)}function isInCalendar(n){for(var t=n,i=0;t&&i<8;t=t.parentNode,i++)if(t&&t.id&&t.id.toLowerCase()==="calendar")return!0;return!1}function lo(n){for(var t=WP.Events.getThis(n);t.nodeName.toUpperCase()!=="TD";)t=t.parentNode;$afe.jq(t).removeClass("hi")}function hi(n,t){return function(i){var r=WP.Events.getThis(i);if(t)while(r.nodeName.toUpperCase()!=="DIV")r=r.parentNode;else while(r.nodeName.toUpperCase()!=="TD")r=r.parentNode;$afe.jq(r).addClass("hi");(!$afe.jq(r).hasClass("ctrl")||n)&&_dateChooser.focusOn&&_dateChooser.focusOn!==r.id&&(document.getElementById(_dateChooser.focusOn)&&lo({target:document.getElementById(_dateChooser.focusOn),srcElement:document.getElementById(_dateChooser.focusOn)}),_dateChooser.focusOn=r.id)}}function restoreHi(n){var i=WP.Events.getThis(n),t;i&&i.className!=="calendar"&&!isInCalendar(i)&&(t="cal"+_dateChooser.date,_dateChooser.focusOn&&t!==_dateChooser.focusOn&&(_dateChooser.month===_dateChooser.today.getMonth()&&_dateChooser.year===_dateChooser.today.getFullYear()&&document.getElementById(t).firstChild.tagName?document.getElementById(t).firstChild.focus():(t=document.getElementById(_dateChooser.focusOn),t.firstChild&&t.firstChild.blur(),lo({target:t,srcElement:t}))))}function _removeCalendar(){var n=$afe.select("#calendar");n.length>0&&(WP.Events.removeListener(document.body,"click",removeCalendar),WP.Events.removeListener(document.body,"mouseover",restoreHi),accessibilityRestorePage(),n.remove(),_dateChooser=null)}function removeCalendar(n){var t=WP.Events.getThis(n);t&&t.className!=="calendar"&&!isInCalendar(t)&&_removeCalendar()}function keyOnPrevMonth(n){var t;if(n.keyCode===9)return n.shiftKey?(t=document.getElementById("calcancel").firstChild,t&&t.nodeName.toUpperCase()==="A"?t.focus():document.getElementById("cal"+_dateChooser.lastDate).firstChild.focus(),WP.Events.preventDefault(n)):void 0;n.keyCode===13&&(_dateChooser.wasEnter=!0)}function keyOnNextMonth(n){var t;if(n.keyCode===9)return n.shiftKey&&(t=document.getElementById("calprev").firstChild,!t||t.nodeName.toUpperCase()!=="A")?(t=document.getElementById("calcancel").firstChild,t&&t.nodeName.toUpperCase()==="A"?t.focus():document.getElementById("cal"+_dateChooser.lastDate).firstChild.focus(),WP.Events.preventDefault(n)):void 0;n.keyCode===13&&(_dateChooser.wasEnter=!0)}function tabOnCancel(n){var t;if(n.keyCode===9)return n.shiftKey?void 0:(t=document.getElementById("calprev").firstChild,t&&t.nodeName.toUpperCase()==="A"?t.focus():(t=document.getElementById("calnext").firstChild,t&&t.nodeName.toUpperCase()==="A"?t.focus():document.getElementById("cal"+_dateChooser.firstDate).firstChild.focus()),WP.Events.preventDefault(n))}function HandleKeyDown(n){for(var f=!0,i=!1,r=document.activeElement,e,t,u;r.nodeName.toUpperCase()!=="TD";)r=r.parentNode;if(e=r.id||r.getAttribute("name"),t={TAB:9,ESC:27,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},n.keyCode==t.ESC&&_dateChooser.clearCalendar(),r.className.indexOf("ctrl")<0){u=e.replace("cal","");switch(n.keyCode){case t.RIGHT:moveFocusByDay(u,1);i=f;break;case t.LEFT:moveFocusByDay(u,-1);i=f;break;case t.DOWN:moveFocusByDay(u,7);i=f;break;case t.UP:moveFocusByDay(u,-7);i=f;break;case t.PAGEDOWN:moveFocusByMonth(u,1);i=f;break;case t.PAGEUP:moveFocusByMonth(u,-1);i=f;break;case t.HOME:moveFocusToFirstDayOfWeek(u);i=f;break;case t.END:moveFocusToLastDayOfWeek(u);i=f}r=document.activeElement;_dateChooser!==null&&r.tabIndex=="0"&&(_dateChooser.focusOn=r.parentElement.id);i&&(n.stopPropagation(),n.preventDefault())}}function moveFocusToFirstDayOfWeek(n){var r=_dateChooser.year,u=_dateChooser.month,f=new Date(r,u,n),t=f.getDay()-getFirstDayOfWeek(),i;t=t<0?t+7:t;i=n-t;document.getElementById("cal"+i).firstChild.focus()}function moveFocusToLastDayOfWeek(n){var r=_dateChooser.year,u=_dateChooser.month,f=new Date(r,u,n),t=f.getDay()-getFirstDayOfWeek(),i;t=t<0?-1-t:6-t;i=parseInt(n)+t;document.getElementById("cal"+i).firstChild.focus()}function moveFocusByDay(n,t){var e=_dateChooser.year,o=_dateChooser.month,i=parseInt(n)+t,r=new Date(e,o,i),u=r.getMonth(),f=r.getFullYear();t>0&&(u>o||f>e)?hasSelectableDay(u,f)?_dateChooser.drawNextMonth(r.getDate()):_dateChooser.isDateDisplayed(i)&&document.getElementById("cal"+i).firstChild.focus():t<0&&(u<o||f<e)?hasSelectableDay(u,f)?_dateChooser.drawPreviousMonth(r.getDate()):_dateChooser.isDateDisplayed(i)&&document.getElementById("cal"+i).firstChild.focus():document.getElementById("cal"+i).firstChild.focus()}function moveFocusByMonth(n,t){n=parseInt(n);var r=_dateChooser.year,u=_dateChooser.month,f=new Date(r,u,n),i=f.getDate();t==1&&n<=0||t==-1&&n>_dateChooser.lastDateOfMonth?(i=i>_dateChooser.lastDateOfMonth?_dateChooser.lastDateOfMonth:i,document.getElementById("cal"+i).firstChild.focus()):hasSelectableDay(u+t,r)?t==1?_dateChooser.drawNextMonth(i):t==-1&&_dateChooser.drawPreviousMonth(i):Math.abs(t)==1&&(i=t===1?i+new Date(r,u+1,0).getDate():i-new Date(r,u,0).getDate(),_dateChooser.isDateDisplayed(i)&&document.getElementById("cal"+i).firstChild.focus())}function dfltClndrCallbackFactory(n){return function(t,i,r){var u=document.getElementById(n);u&&(u.holdErrors=!1,u.openingCalendar=!1,t&&!isNaN(i)&&i>-1&&i<12&&r&&(u.value=formatDate(new Date(t,i,r)),_dateChooser.today=parseDate(u.value,!0),WP.Events.fireEvent(u,"change"),u.focus()))}}function textBoxDataChooser(n,t,i,r){var s="function",u,h,f,e,o;f=document.getElementById(t);typeof r=="string"&&r.length>0?u=window[r](t):typeof r===s&&(u=r);typeof u!==s&&(u=dfltClndrCallbackFactory(t));o=$afe.jq(f).safeAttr("data-focus-dte");f.value!==""?e=parseDate(f.value,!0):typeof o!="undefined"&&(e=WP.Utils.dte2date(o));h=new DateChooser(n,u,WP.Validators.Calendar[i],e,f);h.drawCalendar()}function writeCalendar(n,t,i,r,u,f,e,o){var h=!1,c="holdErrors",l="openingCalendar",s;typeof n=="string"&&(n=$afe.select("#"+n));s=$$WP.SimpleTemplates.Anchor({href:"#","class":"calendar datechooserAnchor"});$$WPUtil.IsNullOrEmpty(o)||s.safeAttr("id",o);s.safeAppend($$WP.SimpleTemplates.Img({src:i,alt:$$WP.Strings.get("CalImgAlt","UI.Calendar")}));t==="range"&&($$WPUtil.IsNullOrEmpty(r)||(window.cachedStartDate=WP.Utils.dte2date(r)),$$WPUtil.IsNullOrEmpty(u)||(window.cachedEndDate=WP.Utils.dte2date(u)));s.click(function(){return n.prop(l,!0),n.prop(c,h),textBoxDataChooser(s[0],n.prop("id"),t,f),h}).on("mousedown",function(){n.prop(c,!0)}).on("mouseout",function(){n.prop(c,h);n.prop(l,h)});s.safeInsertAfter(n)}function clearCalendarDateRange(){window.cachedStartDate=null;window.cachedEndDate=null}function hasSelectableDay(n,t){var r=1,i=makeDate(t,n+1,r);for(n=i.getMonth();i.getMonth()===n;){if(_dateChooser.filter(i.getFullYear(),i.getMonth(),r))return!0;i.setDate(++r)}return!1}function pageLo(n){for(var t=WP.Events.getThis(n);t.nodeName.toUpperCase()!=="DIV";)t=t.parentNode;$afe.jq(t).removeClass("hover")}function pageHi(){return function(n){for(var t=WP.Events.getThis(n);t.nodeName.toUpperCase()!=="DIV";)t=t.parentNode;$afe.jq(t).addClass("hover");_dateChooser.focusOn&&_dateChooser.focusOn!==t.id&&pageLo({target:document.getElementById(_dateChooser.focusOn),srcElement:document.getElementById(_dateChooser.focusOn)});_dateChooser.focusOn=t.id}}function pageCalendarEffects(){var r,t,i,n;if(r=document.getElementById("pagecalendar"),r!==null&&(_dateChooser=function(){},t=r.getElementsByTagName("div"),t!==null))for(i=0;i<t.length;i++)n=t[i],($afe.jq(n).hasClass("NoData")||$afe.jq(n).hasClass("EditData")||$afe.jq(n).hasClass("ctrl"))&&(WP.Events.addListener(n,"mouseover",function(){this.firstChild.focus()}),WP.Events.addListener(n,"mouseout",function(){this.firstChild.blur()}),WP.Events.addListener(n.firstChild,"focus",pageHi()),WP.Events.addListener(n.firstChild,"blur",pageLo))}function accessibilityHidePage(){var n=accessibilityGetElements();for(i=0;i<n.length;i++)n[i]&&n[i].setAttribute("aria-hidden","true")}function accessibilityRestorePage(){var n=accessibilityGetElements();for(i=0;i<n.length;i++)n[i]&&n[i].removeAttribute("aria-hidden")}function accessibilityGetElements(){return[document.getElementById("header"),document.getElementById("footer"),document.getElementById("content")]}var $$WPContain,$$WPPop,_dateChooser;$$WPComp.VB6Component=function(n){var t=this;n=n||{};t._componentClick=n._componentClick||function(){};t.Url=makeLink("inside.asp?mode="+(n.Mode||t.Mode)+"&co=true");t.DontSetH2AsTitle=n.DontSetH2AsTitle||!1;t.Components$ViewComponent(n)};$$WPComp.VB6Component.prototype={Mode:"",Class:"VB6Component",DontSetH2AsTitle:!1,html:function(n){var t=this,u=[],r,i;u=t.getInfoButtonData(n);n=t.cleanResponse(n);r=dangerou$.parseHtml("<div>"+n+"<\/div>");i=r.find("h2");t.DontSetH2AsTitle||i.length===1&&(t.setTitle(i.text(),t._Title.Buttons,t._Title.Image,t.IsClosable),i.remove());t.Components$ViewComponent$html(r.html());t.setInfoButtonData(u)},dispose:function(n){if(!this._isDisposed){var t=this.$container.find("form");t.each(function(){WP.Validators&&delete WP.Validators.Forms[this.id]});this.Components$ViewComponent$dispose(n)}},cleanResponse:function(n){var t=dangerou$.parseHtml(n);return t.find("#main").html()},getInfoButtonData:function(n){var t=0,f=0,i=0,r=[],u,e,o,s;do t=n.indexOf('<script type="text/javascript">var info = WP.Controls.InfoButton',f),f=n.indexOf("<\/script>",t),t!==-1&&(u=n.indexOf("HTMLUnencode",t),e=n.substring(t+90,u-4),o=n.indexOf('"), "popupparentdiv',t),s=n.substring(u+14,o),r[i]={},r[i].id=e,r[i].info=s,i=i+1);while(t!==-1);return r},setInfoButtonData:function(n){var t=0;if(n!==null&&n.length!==null){for(t=0;t<n.length;t++)$afe.select("#"+n[t].id).safeAttr("data-info",n[t].info).safeAttr("data-id","infobutton");this.setInfoButtonBubbles()}},setInfoButtonBubbles:function(){var t=null,i=$afe.select("div[data-id='infobutton']"),r,n;if(i.length>0)for(n=0;n<i.length;n++)$afe.select("#"+i[n].id+" .popupiconcontainer").length===0&&(r=$afe.select("#"+i[n].id),WP.Controls.InfoButton(document.getElementById(i[n].id),HTMLUnencode(r.safeAttr("data-info")),"popupparentdiv_"+i[n].id,t,"",t,t,t,t,t))}};$$WPComp.VB6Component.extend("Components.ViewComponent");$$WPUtil.guaranteeExistence($$WPUtil,"ComponentFactory.HomePage");$$WPUtil.ComponentFactory.vb6Mode=function(n,t,i){return i=i||{},i.Mode=n+"&"+t,i._mode=n,i._otherParameters=t,i.copy=i.copy||function(n){return n.Html=n.Html||this.$content.get(0).innerHTML,$$WPUtil.ComponentFactory.vb6Mode(this._mode,this._otherParameters)},new $$WPComp.VB6Component(i)};$$WPUtil.ComponentFactory.HomePage.quickLinks=function(n){return n=n||{},n.Class=n.Class||"",n.Class+=" quickLinks list hoverable",n.copy=n.copy||function(n){return n.Html=n.Html||this.$content.get(0).innerHTML,$$WPUtil.ComponentFactory.HomePage.quickLinks(n)},n.html=function(n){var t=this;$$WP.Components.VB6Component.prototype.html.apply(t,[n]);t.$content.find("#links").children("a").length?t.$container.hasClass("vertical")||$$WP.Behaviors.matchRowHeights(t.$content,"#links a"):t.hide()},$$WPUtil.ComponentFactory.vb6Mode("","widgetName=quickLinks",n)};$$WPUtil.ComponentFactory.HomePage.news=function(n){return n=n||{},n.Class=n.Class||"",n.Class+=" news",n.copy=n.copy||function(n){return n.Html=n.Html||this.$content.get(0).innerHTML,$$WPUtil.ComponentFactory.HomePage.news(n)},n.Components$VB6Component$cleanResponse=$$WPComp.VB6Component.prototype.cleanResponse,n.cleanResponse=function(n){n=this.Components$VB6Component$cleanResponse(n).replace(/ id="[^"]+"/gim,"");var t=n.indexOf("<!-- Start Section Block -->")+28;return t>27&&(n=n.substring(t,n.indexOf("<!-- End Section Block -->",t))),n},$$WPUtil.ComponentFactory.vb6Mode("","widgetName=staticNews",n)};$$WPUtil.ComponentFactory.HomePage.alerts=function(n){return n=n||{},n.Class=n.Class||"",n.Class+=" Alerts",n.SupportAnimations=n.SupportAnimations!==!1,n.copy=n.copy||function(n){return n.Html=n.Html||this.$content.get(0).innerHTML,$$WPUtil.ComponentFactory.HomePage.alerts(n)},n.Components$VB6Component$html=$$WPComp.VB6Component.prototype.html,n.html=n.html||function(n){var t=this,i,r,u;t.Components$VB6Component$html(n);t.$content.find("#alertspanel-autowaitlist").length>0||t.$content.find("#alertspanel-expiredautowaitlist").length>0?$$WPUtil.ComponentFactory.HomePage.AutoWaitList(0,null):t.$content.find("a").length===0&&t.$container.addClass("noinfo");i=t.$content.find("[data-alertid='alertspanel-notificationreview']");i.length>0&&(r=JSON.parse($(i[0]).html()),$$WPUtil.guaranteeExistence($$WP,"Preferences.NotificationsReviewAlertComponent"),u=new $$WP.Preferences.NotificationsReviewAlertComponent(r),$$WPUtil.ComponentFactory.HomePage.ShowNotificationAlertAsPopup(u),t.$content.find("#alerts div").length===1&&t.hide())},$$WPUtil.ComponentFactory.vb6Mode("","widgetName=alerts",n)};$$WPUtil.ComponentFactory.HomePage.ShowNotificationAlertAsPopup=function(n){var t=new $$WPContain.Popup({positioningFunction:$$WPContain.Positions.InsideNearTop,Components:n,IsClosable:!n.Data.emailRequired,TitleText:null,Size:$$WPContain.Popup.SizeEnum.MEDIUM,Class:"notificationreview",BackButtonText:$$WP.Strings.get("AskLaterExitPopup","notifications.notificationalert")});n.show();t.show(!0);$$WP.FormValidation.initializeDOMSubtree($afe.select("#updateform"));setupButtoncheck()};$$WPUtil.guaranteeExistence($$WPUtil,"ComponentFactory.Clinical");$$WPUtil.ComponentFactory.Clinical.goals=function(n){var t="",r,u,i;return n=n||{},n.DontSetH2AsTitle=!0,n.Class=n.Class||t,n.Class+=" goalsvb6",n.SupportAnimations=n.SupportAnimations!==!1,i=n.RegistryID||t,u="section=1&widgetMode=1&registryid="+i,r=i===t?"goalsreview":"mycondition",n.Components$VB6Component$html=$$WPComp.VB6Component.prototype.html,n.html=n.html||function(i){var e="showing_clicked_goal_details",u="Clinical.Goals",r=this,o,s,h,c,l,a,v=0,f,y,p,w,b,k,d;r.Components$VB6Component$html(i);s=$$WP.Strings.getForTemplate("graphlabel",u);h=$$WP.Strings.getForTemplate("tablelabel",u);c=new $$WPComp.ComplexObjects.Button(s,t,"graphButton selected","graph");l=new $$WPComp.ComplexObjects.Button(h,t,"tableButton","table");a=[c,l];y=new $$WPComp.ComplexObjects.ButtonBar(t,t,"goaltitle",t,t);w=new $$WPComp.ComplexObjects.ButtonBar(t,t,"goalrecentvalue",t,t);k=new $$WPComp.ComplexObjects.ButtonBar(t,t,"goalbuttonlist",$$WPUtil.copyObject(a),$$WPComp.TITLEBARIDENTIFIER);p=$afe.renderTemplate($$WP.Templates.Core.ButtonBar,y);b=$afe.renderTemplate($$WP.Templates.Core.ButtonBar,w);d=$afe.renderTemplate($$WP.Templates.Core.ButtonBar,k);r.$content.safePrepend(d);r.$content.safePrepend(b);r.$content.safePrepend(p);f=$$WP.SimpleTemplates.Anchor({href:"#","class":"focusanchor",name:"goalmaintop",title:$$WP.Strings.get(e,u)});$$WP.Strings.setDisplayText(f,e,u);r.$content.safePrepend(f);loadGraphs();v=n._selectedIndex||0;o=$afe.select(".goalslarge .goalslist").find("[data-index='"+v+"']").safeAttr("id");n._showSelectedGoalGraph(o)},n._componentClick=function(t){return n._switchTableGraph(t),!1},$$WPUtil.ComponentFactory.vb6Mode(r,u,n)};$$WPUtil.ComponentFactory.Clinical.TestResultDetails=function(n){n=n||{};n.DontSetH2AsTitle=!0;n.Class=n.Class||"";n.SupportAnimations=n.SupportAnimations!==!1;var t,i=n.RegistryID||"";return n.Components$VB6Component$html=$$WPComp.VB6Component.prototype.html,n.Components$VB6Component$cleanResponse=$$WPComp.VB6Component.prototype.cleanResponse,n.cleanResponse=function(n){var u;n=this.Components$VB6Component$cleanResponse(n);var t=dangerou$.parseHtml(n),r=t.filter(".title"),f=t.filter(".cptLink"),i=t.filter(".tabcontainer");return i.removeClass("tabcontainer"),r.find("div#assistiveicons").remove(),i.find(".navparent").remove(),u=$afe.jq(document.createElement("div")).safeAppend(r).safeAppend(f).safeAppend(i),u.html()},$$WPUtil.ComponentFactory.vb6Mode("labdetail",t,n)};$$WPComp.TemplateComponent=function(n){this.Components$Component(n)};$$WPComp.TemplateComponent.prototype={Url:makeLink(""),Data:{},template:function(){console.error("Descendents of TemplateComponent must implement the template property (or pass it in the settings bag).")},setData:function(n){n=n||{};n.ComponentNumber=this.ComponentNumber;this.Data=n;this.refresh()},refresh:function(){var n=this,t=Array.isArray(n.Data)?{dataElement:n.Data}:n.Data;try{n.html(n.template(t).trim())}catch(i){throw"Failed to execute the template for component"+n.ComponentNumber;}},copy:function(n){return n=n||{},n.Data=this.Data,this.Components$Component$copy(n)},show:function(){var n=this;n._shownOnce||n._isDisposed||n.setData(n.Data);n.Components$Component$show()},load:function(n,t,i){return this.makeRequest({success:this.setData,dataType:"json",type:"POST",url:n||this.Url},i||"load",t)}};$$WPComp.TemplateComponent.extend("Components.Component");$$WPComp.InlineLoadingComponent=function(n){this.Components$TemplateComponent(n);this.addEventListener("resize",this._resize)};$$WPComp.InlineLoadingComponent.prototype={CommunicationsIndicator:!1,$PermanentParent:null,template:$$WP.Templates.Core.loading,Data:{PrimaryMessage:$$WP.Strings.getForTemplate("GenericLoadingMessage","Global"),ExtraMessage:""},IsClosable:!1,TitleText:null,ToolbarButtons:null,Class:"inlineloading",show:function(n){var t=this;n=t.$PermanentParent||n;t.$container.parent().length===0&&t.$container.safeInsertBefore(n.children(".content"));t.Components$TemplateComponent$show()},_resize:function(){return!1}};$$WPComp.InlineLoadingComponent.extend("Components.TemplateComponent");$$WPComp.InlineLoadingComponentWithSources=function(n){var t=this;t.Components$TemplateComponent(n);t.AreaName!==null&&(t.Url=makeLink("Loading/GetStatus?AreaName="+t.AreaName));t.addEventListener("resize",t._resize);$$WP.CommunityUtilities.hasCommunityLinks()||(t.Url="")};$$WPComp.InlineLoadingComponentWithSources.prototype={CommunicationsIndicator:!1,$PermanentParent:null,Url:makeLink("Loading/GetStatus"),template:$$WP.Templates.Core.loading,IsClosable:!1,TitleText:null,ToolbarButtons:null,Class:"inlineloading withsources",stopGetStatus:!1,AreaName:null,statusIsCount:!1,setData:function(n){n.DataFromMultipleSources=!0;this.Components$TemplateComponent$setData(n);this.success(n)},success:function(n){var s="@MYCHART@TOTALORGS@",h="@MYCHART@LOADEDORGS@",c="CommunityLoadingStatus",t=this,r,o,l,u,f,e,i;if($$WP.Strings.setDefaultNamespace("community.externaljump"),r=0,u="",$$WP.CommunityUtilities.hasCommunityLinks()){if(n&&n.Organizations&&n.Organizations.length>0&&!t.stopGetStatus){for(f=0;f<n.Organizations.length;f++)if(i=n.Organizations[f],i.Status!==1&&i.Status!==7){if(i.Organization&&i.Organization.OrganizationName!==null){e=i.Organization;break}}else r++;r===n.Organizations.length&&(o=$$WP.Strings.get(c));e||(e=n.Organizations[0].Organization);$$WP.Strings.setOrganization(e);$$WP.Strings.addMnemonic(h,r);$$WP.Strings.addMnemonic(s,n.Organizations.length);l=$$WP.Strings.get("CommunityLoadingStatusWithCounter");o=$$WP.Strings.get(c);$$WP.Strings.removeMnemonic(h);$$WP.Strings.removeMnemonic(s);$$WP.Strings.clearOrganization();u=t.statusIsCount?o:l;t.statusIsCount=!t.statusIsCount;t._status=u;t.$content.find(".loadingStatus.loading").animate({opacity:0},350,function(){$afe.jq(this).empty().safeAppend(u)}).animate({opacity:1},350)}t.stopGetStatus||setTimeout($.proxy(function(){getCSRFTokenAsQS($.proxy(function(){this.makeRequest({success:this.success,dataType:"json",type:"POST",url:this.Url},"getStatus")},this))},t),300);$$WP.Strings.clearDefaultNamespace()}},show:function(n){var t=this;n=t.$PermanentParent||n;t.$container.parent().length===0&&t.$container.safeInsertBefore(n.children(".content"));t.$container.removeClass("resized");t.Components$TemplateComponent$show()},hide:function(){var t="loaded",n=this,i;if(n.DataFromMultipleSources){n.stopGetStatus=!0;n.$container.find(".loadingStatus").remove();n.$container.find(".loadingExt").removeClass("loading").addClass(t);i=$$WP.SimpleTemplates.Div({"class":"subtlecolor loadingStatus","aria-hidden":"true"});$$WP.Strings.setDisplayText(i,"CommunityLoadedMessage","community.externaljump");n.$content.safeAppend(i);n.$container.addClass(t).on("transitionend",function(n){var i=this,r;n&&n.target&&!$afe.jq(i).hasClass("resized")&&$afe.jq(i).hasClass(t)&&(r=$afe.jq(i).parent(".component:not(.inlineloading)").first(),r&&($afe.jq(r).css("height","").trigger("resize",{forceShrink:!0}),$afe.jq(i).addClass("resized")))})}else n.Components$TemplateComponent$hide()},refresh:function(){this.$container.removeClass("loaded resized");this.Components$TemplateComponent$refresh()},_resize:function(){return!1}};$$WPComp.InlineLoadingComponentWithSources.extend("Components.TemplateComponent");$$WPComp.ExternalJumpPopupComponent=function(n){var t=this;t.Components$TemplateComponent(n);t.Data=t.Data||{};t.addEventListener("click",t._clickEvent);t.Data.ExternalJumpIframeId="externaljumpiframe_comp"+t.ComponentNumber;t.ExternalJumpIframeId=t.Data.ExternalJumpIframeId};$$WPComp.ExternalJumpPopupComponent.prototype={Class:"externaljump",ToolbarButtons:null,template:$$WP.Templates.Core.externaljump,CommunicationsIndicator:!1,ExternalJumpIframe:null,IsLoadingIndicatorHidden:!1,ResponseObject:null,NewWindowReference:null,ExternalJumpIframeId:null,RefreshCommunityTokenOnClose:!1,callback:null,context:null,windowMsgListener:null,initialize:function(){this.clearModel();this.refresh()},clearModel:function(){var n=this;n.Data&&(n.Data.OrganizationName=null,n.Data.OrganizationLogo=null,n.Data.Url=null)},loadIframe:function(n){var t=this;if(typeof n=="object"){t.updateData(n.CommunityResponse);t.ResponseObject=n.CommunityResponse;t.RefreshCommunityTokenOnClose=n.RedirectToSignup;t.Data.IsSignupWorkFlow=n.RedirectToSignup;t.Data.Url=t.ResponseObject.RedirectURL;t.refresh();$afe.select("#"+t.ExternalJumpIframeId).on("load",$.proxy(t.afterIframeLoaded,t)).on("error",t.failure);t.ExternalJumpIframe=document.getElementById(t.ExternalJumpIframeId)}t.windowMsgListener=$.proxy(t.msgListener,t);$afe.jq(window).on("message."+t.ComponentNumber,t.windowMsgListener);$afe.jq(window).on("resize orientationchange","",t.ComponentNumber,$.proxy(t._resizeIframe,t));t.ContainerComponent._oldDispose=t.ContainerComponent.dispose;t.ContainerComponent.dispose=$.proxy(t._popupDispose,t)},afterIframeLoaded:function(){this.hideLoadingIndicator()},hideLoadingIndicator:function(){var n=this,t,i;if(!n.IsLoadingIndicatorHidden){t=n.$content.find(".loadingExt");t.removeClass("loading").addClass("loaded");i=n.$content.find(".loadingContainer");i.addClass("loaded").on("transitionend transitionEnd",$.proxy(n.showIframeContent,n));WP.DOM.Browser._getIEVersion()===9&&setTimeout($.proxy(n.showIframeContent,n),500);n.IsLoadingIndicatorHidden=!0}},showIframeContent:function(){var n=this;n.$content.find(".loadingContainer").remove();n.$content.find(".loadedcontent").removeClass("loadedcontent");$.proxy(n._resizeIframe(),n);n.ContainerComponent.focus()},_resizeIframe:function(){var r="height",s=".externalframewrapper",u="max-height",f,e,h,t,n,o,i;if(e=$afe.select(".externalheader"),h=e.length===0?0:e.outerHeight(),t=600,n=$afe.select("#"+this.ExternalJumpIframeId),n.length!==0){if(o=n.closest(".Popup"),o.length>0){if(i=o.find("> .content"),$$WP.Utilities.isBrowserCapableOf("touchEvents")&&i.css(u)==="none"){n.closest(s).css(r,"");n.css(r,"100vh");return}f=$afe.select("body").hasClass("scrollDisabled")&&i.css(u)!=="none"?$$WPUtil.cssValueToPixels(i.css(u)):i.height();typeof f!="undefined"&&(t=f-h-5)}t<150&&(t=150);n.css(r,t+"px");n.closest(s).css(r,t+"px")}},showBrowserUnSupportedMessage:function(){var u="UnSupportedBtnText",f=".browsersupport",n="community.externaljump",t="UnSupportedMessage",i,r;i=$$WP.SimpleTemplates.Div({id:t},null);$$WP.Strings.setDisplayText(i,t,n);this.$content.find(f).safeAppend(i);r=$$WP.SimpleTemplates.Anchor({href:"#","data-id":"unsupportedbrowserlink","class":"button completeworkflow autowidth",title:$$WP.Strings.get(u,n),"aria-describedby":t});$$WP.Strings.setDisplayText(r,u,n);this.$content.find(f).safeAppend(r)},failure:function(){this.Data.ErrorMessage=$$WP.Strings.getForTemplate("WidgetErrorMessage");this.refresh()},updateData:function(n){var i="community.externaljump",t=this;n&&n.Organization&&(t.Data.OrganizationLogo=n.Organization.LogoUrl,t.Data.OrganizationName=n.Organization.OrganizationName,$$WP.Strings.setOrganization(n.Organization,i),t.Data.LoadingStatus=$$WP.Strings.getForTemplate("DeepLinkPopupLoadingMessage",i),t.Data.IframeTitle=$$WP.Strings.getForTemplate("IframeTitle",i),$$WP.Strings.clearOrganization(),t.Data.Address=n.Organization.Address,t.Data.Contact=n.Organization.ContactInformation,t.Data.Contact===null&&(t.Data.contactInfoClass="nocontact"))},msgListener:function(n){var t=this,i,r;if(n&&n.originalEvent&&n.originalEvent.data){if(i=JSON.parse(n.originalEvent.data),!i)return;if(i.message==="cookieFlag"&&!i.canSetCookies){t.hideLoadingIndicator();$afe.select("#"+t.ExternalJumpIframeId).remove();t.showBrowserUnSupportedMessage();return}i.externalGUID===$$WP.CommunityUtilities.getExternalJumpGUID()&&t&&(i.message==="closePopup"?(t.ContainerComponent&&t.ContainerComponent._oldDispose(),t&&t._disposeTimeout&&clearTimeout(t._disposeTimeout)):i.message==="isValidContext"?t.ExternalJumpIframe&&t.ExternalJumpIframe.contentWindow&&(r={},r.message="valid",t.ExternalJumpIframe.contentWindow.postMessage(JSON.stringify(r),"*")):i.message==="setActivity"&&$$WPUtil.setActivity())}},_clickEvent:function(n){var i="externalJumpWindow",r="scrollbars=1,resizable=1",t=this;return n?n.dataId==="unsupportedbrowserlink"&&t.ResponseObject!==null&&!$$WPUtil.IsNullOrEmpty(t.ResponseObject.RedirectURL)?(t.ResponseObject.IsSSOPost?(t.NewWindowReference=openWindow("","",r,i,!0),$$WPUtil.postForm(t.ResponseObject.RedirectURL,t.ResponseObject.SSOParams,t.NewWindowReference.name)):(t.ResponseObject.RedirectURL=t.ResponseObject.RedirectURL+"&co=true",t.NewWindowReference=openWindow(t.ResponseObject.RedirectURL,"",r,i,!0)),!1):void 0:!0},_popupDispose:function(){var n=this,t;n&&((n.ExternalJumpIframe&&n.ExternalJumpIframe.contentWindow||n.NewWindowReference!==null&&!n.NewWindowReference.closed)&&(t={},t.message="logout",n.NewWindowReference!==null?n.NewWindowReference.window.postMessage(JSON.stringify(t),"*"):n.ExternalJumpIframe.contentWindow.postMessage(JSON.stringify(t),"*")),n.ContainerComponent.hide(),n._disposeTimeout=setTimeout($.proxy(function(){var n=this;n.NewWindowReference===null||n.NewWindowReference.closed||closeAllWindows("externalJumpWindow");n.ContainerComponent&&n.ContainerComponent._oldDispose()},n),500))},dispose:function(){var n=this;$afe.jq(window).off("message."+n.ComponentNumber,n.windowMsgListener);$afe.jq(window).off("resize orientationchange","",$.proxy(n._resizeIframe,n));n.ResponseObject!==null&&n.RefreshCommunityTokenOnClose&&$$WP.CommunityUtilities.refreshCommunityLink(n.ResponseObject.Organization.OrganizationId);n.runCallback(n.callback);n.Components$Component$dispose()},runCallback:function(n){n&&this.context&&typeof n=="function"&&n.apply(this.context)}};$$WPComp.ExternalJumpPopupComponent.extend("Components.TemplateComponent");$$WPComp.ConfirmComponent=function(n){var t=this;$$WPComp.applySettings(n,t);typeof t.callback!="function"&&console.error("A callback function is required for Confirm");t.Components$Component({});t.CallbackContext=t.CallbackContext||t;t.addEventListener("click",t._clickToolbar)};$$WPComp.ConfirmComponent.prototype={AffirmButtonIndex:0,_clickToolbar:function(n){var t=this;if(n.dataId)return t.callback.apply(t.CallbackContext,[$$WPComp.TOOLBARIDENTIFIER+t.AffirmButtonIndex===n.dataId]),t.dispose(!0),!1}};$$WPComp.ConfirmComponent.extend("Components.Component");$$WPUtil.guaranteeExistence($$WP,"Containers");$$WPContain=$$WP.Containers;$$WPContain.ContainerComponent=function(n){var t=this;t._Components=[];t.Components$Component(n);t.Components&&(Array.isArray(t.Components)?t.addComponent(t.Components):t.setSingleComponent(t.Components),delete t.Components)};$$WPContain.ContainerComponent.prototype={Class:"container",Events:["dispose","resize"],_Components:[],IsClosable:!0,hasComponents:function(){return this._Components&&this._Components.length>0},show:function(n){var t=this,i;if(t._visible!==!0){if($$WP.Debug.UpdateTopMarginForBanners(),n&&t.hasComponents())for(i=0;i<t._Components.length;i+=1)t._Components[i].show(n);t.Components$Component$show()}},hide:function(n){var t=this,i;if(t._visible!==!1&&(t.Components$Component$hide(),n&&t.hasComponents()))for(i=0;i<t._Components.length;i+=1)t._Components[i].hide(n)},addComponent:function(n){var t=this,i;if(n){if(Array.isArray(n)){for(i=0;i<n.length;i+=1)t.addComponent(n[i]);return}if(!$$WPComp.isComponent(n))throw"addComponent was called with something that isn't a component";n.ContainerComponent&&(n.ContainerComponent.removeComponent(n,!0),n.hide());t._Components.push(n);t.$content.find(n.$container).length===0&&t.$content.safeAppend(n.$container);n.ContainerComponent=t;n._isVisibleOld=n.isVisible;n.isVisible=t._isComponentVisible}},_isComponentVisible:function(){return this._isVisibleOld()&&this.ContainerComponent.isVisible()},removeComponent:function(n,t){for(var i=this,u=isNaN(n)?n.ComponentNumber:n,r=i._Components.length-1;r>-1;r--)if(i._Components[r].ComponentNumber===u)break;n=i._Components[r];n&&n.ComponentNumber===u&&(t!==!0&&n.dispose(),n.$container.remove(),n.ContainerComponent=null,n.isVisible=n._isVisibleOld,delete n._isVisibleOld,i._Components=i._Components.slice(0,r-1).concat(i._Components.slice(r+1,i._Components.length-1)))},clearComponents:function(n){for(var t=this;t._Components.length;)t.removeComponent(t._Components[t._Components.length-1].ComponentNumber,n);t._Components=[]},setSingleComponent:function(n){if(!$$WPComp.isComponent(n)){console.error("setSingleComponent called with something that isn't a component");return}this.addComponent(n);this.setTitle(n.TitleText,n.TitleButtons,n.TitleImage,n.IsClosable);n.setTitle(null,null,null,!1)},dispose:function(n){var t=this;t._isDisposed||(t.clearComponents(),t.Components$Component$dispose(n),t._ContentGeneratedOnce=!1)},html:function(){console.error("You cannot directly set the HTML of a container.")},copy:function(n,t){var i,r;for(n=n||{},n.Components=n.Components||[],r=this._Components.length,i=0;i<r;i++)n.Components.push(this._Components[i].copy(t||{}));return this.Components$Component$copy(n)},load:function(){for(var t=this,n=0;n<t._Components.length;n++)if(typeof t._Components[n].load=="function")try{t._Components[n].load.apply(t._Components[n],arguments)}catch(i){console.error(i)}}};$$WPContain.ContainerComponent.extend("Components.Component");$$WPUtil.guaranteeExistence($$WP,"Containers");$$WPContain.Positions={None:function(){},InsideCentered:function(n,t){var i,u,r,c,f=n.data,o,s,h,e,l;isNaN(f)||(f=$$WPComp.getInstance(f));r=f.$container;i=$afe.jq(window);u=$$WPContain.Positions.getOffset.apply(f,[t]);c=i.height()-r.outerHeight();s=$$WPUtil.getScrollTop();h=$$WPUtil.getScrollLeft();window.visualViewport&&Math.round(window.visualViewport.width)!==i.innerWidth()&&(h=0);this._IsWindowScrollDisabled?(l=$$WPUtil.cssValueToPixels($afe.select("body").css("margin-top")),c>0?o=(i.height()-r.outerHeight())/2-l:(this._IsWindowScrollDisabled=!1,$afe.select("body").removeClass("scrollDisabled"))):(u.y<0&&(u.y=0),o=s+(i.height()-r.outerHeight())/2-u.y);isDataTile()&&(o=0);e=h+(i.width()-r.outerWidth())/2-u.x;e<0&&(e=0);$afe.select("html").hasClass("mobile")&&i.scrollTop(0);r.css({top:Math.max(o,35+s)+"px",left:e+"px",right:e+"px"})},InsideNearTop:function(n,t){var u,s,e,i=n.data,f,o,r,h;typeof i=="number"&&(i=$$WPComp.Instances[i]);e=i.$container;u=$afe.jq(window);s=$$WPContain.Positions.getOffset.apply(i,[t]);f=$afe.select("#header").outerHeight()||null;$afe.select("body").hasClass("scrollDisabled")?(h=$$WPUtil.cssValueToPixels($afe.select("body").css("margin-top")),o=f-h+10+"px"):o=$afe.select("html").hasClass("mobile")?f+10+"px":f+$$WPUtil.getScrollTop()+10+"px";scrollLeft=$$WPUtil.getScrollLeft();window.visualViewport&&Math.round(window.visualViewport.width)!==u.innerWidth()&&(scrollLeft=0);r=scrollLeft+(u.width()-e.outerWidth())/2-s.x;r<0&&(r=0);$afe.select("html").hasClass("mobile")&&u.scrollTop(0);e.css({left:r,top:o,right:r})},getOffset:function(n){var t=this,i,r,u,f;return(!t.origOffset||n)&&(t.$container.css({position:"absolute",top:0,left:0,right:0}),i=t.$container.offset(),r=$afe.select("html").safeAttr("dir")==="rtl",r?(u=$afe.jq(window).width(),f=t.$container.outerWidth(),t.origOffset={x:u-(i.left+f),y:i.top}):t.origOffset={x:i.left,y:i.top}),t.origOffset}};$$WPUtil.guaranteeExistence($$WP,"Popups");$$WPUtil.guaranteeExistence($$WP,"Utilities.UI");$$WPPop=$$WP.Popups;$$WPContain.Popup=function(n){var t=this;$$WPComp.applySettings(n,t);switch(t.Size){case $$WPContain.Popup.SizeEnum.SMALL:t.Class+=" small";break;case $$WPContain.Popup.SizeEnum.MEDIUM:t.Class+=" medium";break;case $$WPContain.Popup.SizeEnum.LARGE:t.Class+=" large"}t.positioningFunction===null&&(t.positioningFunction=$$WPContain.Positions.InsideCentered);t.$parent=t.$parent&&t.$parent.length>0?t.$parent:$afe.jq(document.body);t._shouldOverrideMobileBack()&&(Array.isArray(t.Components)?t.Components.forEach(function(n){n.IsClosable=!1}):t.Components.IsClosable=!1);t.Containers$ContainerComponent({});t.addEventListener("resize",t._resizePopup);t.addEventListener("click",t._clickPopup);t.addEventListener("keydown",t._keydownPopup);$$WP.Utilities.UI.IsMobile&&t.addEventListener("focusout",t._onMobileFocusOut);t.HasBackButton!==!1&&(t.HasBackButton||isDataTile()&&t.IsClosable&&t.Size!=$$WPContain.Popup.SizeEnum.SMALL)&&(t.BackButtonText===""&&(t.BackButtonText=$$WP.Strings.get("PopupBackToPreviousPageButton",t.StringsNamespace)),t.ToolbarButtons===null&&(t.ToolbarButtons=[]),t.ToolbarButtons.push(new $$WPComp.ComplexObjects.Button(t.BackButtonText,null,"secondary neutral previouspage","close",t.BackButtonText)))};$$WPContain.Popup.SizeEnum={SMALL:1,MEDIUM:2,LARGE:3,AUTO:4};$$WPContain.Popup.__zIndex=0;$$WPContain.Popup.prototype={ToolbarButtons:null,HasOverlay:!0,IsClosable:!0,Class:"Popup",positioningFunction:$$WPContain.Positions.InsideCentered,Size:$$WPContain.Popup.SizeEnum.SMALL,_IsWindowScrollDisabled:!1,_ScrollBarPosition:0,_IsScrollBarDisabledWhenOpened:!1,_InitialBodyMarginTop:0,DontMatchColumnHeights:!1,$parent:$afe.select("body"),HasBackButton:null,BackButtonText:"",GetLastFocus:null,MonitorAriaLiveContent:!0,OnCloseCallback:null,show:function(n){var r="mobile_back",u="_cachedWindowEvents",i=!0,t=this,f;if(t._visible!==i){if(t.__setAriaHiddenForPage(i),t.$container.find(".alertLive").length>0&&(t.MonitorAriaLiveContent=!1),t.MonitorAriaLiveContent===i&&(t.$container.safeAttr("aria-live","polite"),t.$container.safeAttr("aria-relevant","additions")),t._ScrollBarPosition=$$WPUtil.getScrollTop(),t._IsScrollBarDisabledWhenOpened=$afe.select("body").hasClass("scrollDisabled"),t._IsScrollBarDisabledWhenOpened&&(t._InitialBodyMarginTop=$afe.select("body").css("margin-top")),t.setAppropriateScrollBar(),$$WP.Debug.UpdateTopMarginForBanners(),t.HasOverlay)t._overlay.on(!t.IsClosable,t);t.Containers$ContainerComponent$show(n);popupAlert=t._createPopupAlert();t.$container.safePrepend(popupAlert);t.focus();popupAlert.setAttribute("tabindex","-1");t.setFocus();$afe.jq(window).on("resize orientationchange","",t.ComponentNumber,t.__windowResize);if(t._shouldOverrideMobileBack()){f=t._getMobileBackEvents();t.$container.data(u,[]);f.forEach(function(n){this.$container.data(u).push(n)},t);$afe.jq(window).off(r);$afe.jq(window).on(r,"",t.ComponentNumber,t.__mobileBack)}if(t.setAppropriateContentHeight(),isDataTile()&&t.Size!==$$WPContain.Popup.SizeEnum.SMALL)try{window.history.pushState(null,null,location.href);scrollTopOfTheIframe(0,i)}catch(e){$$WP.Debug.log("Cannot add Push state as the parent domain is not accessible")}}},setAppropriateScrollBar:function(){var u="scrollDisabled",n=this,t=$afe.select("body"),i=$afe.jq(window),f=$afe.select("#header"),e,o,h,s,r;e=i.width();o=i.height();h=$$WPUtil.cssValueToPixels(t.css("min-width"));s=n.$container.outerHeight()+n.$container.offset().top<=o&&n.$container.outerWidth()<=e;!isDataTile()&&s?(n._IsWindowScrollDisabled=!0,r=$$WPUtil.getScrollTop(),r>75&&(f.hasClass("compact")||(f.addClass("compact"),i.trigger("compactHeader"))),n._IsScrollBarDisabledWhenOpened||t.css({"margin-top":"-"+r+"px"}).addClass(u)):(n._IsWindowScrollDisabled=!1,t.css({"margin-top":""}).removeClass(u))},setAppropriateContentHeight:function(){var f="matchColumnHeights",e="#content, #main, #sidebar",o="> .content",n=this,t,l=$afe.select("#header").outerHeight(),s,a,r,h,c,u,i;n._IsWindowScrollDisabled?(s=$afe.jq(window).innerHeight(),a=$afe.select(".Popup > .titlebar").outerHeight(),t=s-2*l-20,r=n.$content.contentHeight(),i=$$WPUtil.cssValueToPixels(n.$content.css("min-height")),typeof i!="undefined"&&i>t&&(t=i),t<150&&(t=150),n.$container.find(o).css({"max-height":t+"px","overflow-y":"auto"})):(n.$container.find(o).css({"max-height":"","overflow-y":"visible"}),!n.DontMatchColumnHeights&&$$WP.Utilities.UI.MatchColumnHeightsOnHideAndShow&&($afe.select(e).css("height",""),$afe.jq(window).trigger(f),r=$afe.select("#content").height(),h=n.$container.height(),c=n.$container.offset().top,u=h+c+150,u>r&&($afe.select(e).css("height",u+"px"),$afe.jq(window).trigger(f))))},setFocus:function(){var n=this;try{n.firstFocus=WP.DOM.Search.getNextFocusable(n.$container.get(0))}catch(t){}try{n.lastFocus=n.GetLastFocus!==null?n.GetLastFocus(n.$container.get(0)):WP.DOM.Search.getLastFocusable(n.$container.get(0))}catch(i){}n.isFirstFocus=!1},__windowResize:function(n){if(!isDataTile()){var t=$$WPComp.getInstance(n.data);t&&(t._IsWindowScrollDisabled=!1,t.setAppropriateScrollBar(),t.$container.trigger("resize"))}},hide:function(n){var u="mobile_back",i=!1,t=this,r;if(t._visible!==i){t.__setAriaHiddenForPage(i);t.Containers$ContainerComponent$hide(n);t._visible=i;t._IsScrollBarDisabledWhenOpened?$afe.select("body").css("margin-top",t._InitialBodyMarginTop):$afe.select("body").css({"margin-top":""}).removeClass("scrollDisabled");$afe.select("#content, #main, #sidebar").css("height","").removeClass("suppressed");$$WP.Utilities.UI.MatchColumnHeightsOnHideAndShow&&!t.DontMatchColumnHeights&&$afe.jq(window).trigger("matchColumnHeights");t._IsWindowScrollDisabled=i;t.HasOverlay&&t._overlay.off(!t.IsClosable,t);try{t.FocusOnClose.focus()}catch(f){}t._ScrollBarPosition&&$$WPUtil.setScrollTop(t._ScrollBarPosition);$afe.select(".Popup.component").length===1&&$afe.jq(window).off("resize orientationchange","",t.__windowResize);t._shouldOverrideMobileBack()&&(r=t.$container.data("_cachedWindowEvents"),r&&($afe.jq(window).off(u),r.forEach(function(n){$afe.jq(window).on(u,n.selector,n.data,n.handler)})));typeof t.OnCloseCallback=="function"&&t.OnCloseCallback()}},reposition:function(n){var i="opacity",t=this,r;if(t.$container.parent().length!==0){r=t.$container.css(i);t.$container.css(i,0);try{t.positioningFunction({data:t},n)}catch(u){throw"repositioning error";}t.$container.css(i,r)}},setTitle:function(n,t,i,r){var f="clearlabel",u=this,e;n||t&&t.length!==0||r?u.$container.removeClass("notitle"):(e=!0,t=[new $$WPComp.ComplexObjects.Button($$WP.Strings.getForTemplate("JumpToContent","Core.Popup"),null,f,"jumptocontent")],u.$container.addClass("notitle"));u.Containers$ContainerComponent$setTitle(n,t,i,r);e&&u.$title.addClass(f)},_resizePopup:function(){var n=this;return n.isVisible()?(n.reposition(!1),n.setAppropriateContentHeight(),n.setFocus(),!1):!1},_clickPopup:function(n){return n.dataId===$$WPComp.TITLEBARIDENTIFIER+"jumptocontent"?(this.focus(!0),!1):n.dataId==="focusanchor"?!1:void 0},_onMobileFocusOut:function(n){n.relatedTarget||$afe.jq(window).scrollTop(0)},_keydownPopup:function(n){var i=!1,t=this,u=$afe.select(".infoBubbleWrapper.hover").length>0,r;if(n.keyCode===27&&t.IsClosable&&!u&&t.dispose(i),n.keyCode===9)return n.target!==t.firstFocus&&n.target!==t.lastFocus?t.isFirstFocus?(r=n.shiftKey?t.lastFocus:t.firstFocus,r&&r.focus(),delete t.isFirstFocus,i):void 0:n.shiftKey&&n.target===t.firstFocus?(t.lastFocus&&t.lastFocus.focus(),t.isFirstFocus&&delete t.isFirstFocus,i):!n.shiftKey&&n.target===t.lastFocus?(t.firstFocus&&t.firstFocus.focus(),t.isFirstFocus&&delete t.isFirstFocus,i):void 0},__mobileBack:function(n){var t=$$WPComp.getInstance(n.data);t&&t.dispose()},_shouldOverrideMobileBack:function(){if(!$$WP.Utilities.UI.IsMobile||this.Size!==$$WPContain.Popup.SizeEnum.MEDIUM&&this.Size!==$$WPContain.Popup.SizeEnum.LARGE||isDataTile())return!1;var n=this._getMobileBackEvents();return n&&n.length>0},_getMobileBackEvents:function(){var n=$._data(window,"events");return n?n.mobile_back:null},_overlay:{on:function(n,t){var r,i;if(i=$afe.select("body"),i.length||(i=$afe.select("#datatile")),$$WPContain.Popup.__zIndex+=3,r=3e3+$$WPContain.Popup.__zIndex,t.$overlay=$afe.renderTemplate($$WP.Templates.Core.overlay,{}),i.safeAppend(t.$overlay),t.$overlay.show(),t.$overlay.css("z-index",r),t.$container.css("z-index",r+1),$$WP.Utilities.UI.PDF&&$$WP.Utilities.UI.PDF.needIframeShim()&&$$WP.Utilities.UI.PDF.pageHasEmbeddedPdf()&&$$WP.Utilities.UI.PDF.hidePdfs(),!n)t.$overlay.on("click","",t.ComponentNumber,t._overlay._overlayClick)},off:function(n,t){var i;n||t.$overlay.off("click","",t._overlay._overlayClick);t.$overlay.remove();i=$afe.select(".lb_overlay:visible").length;$$WP.Utilities.UI.PDF&&$$WP.Utilities.UI.PDF.needIframeShim()&&$$WP.Utilities.UI.PDF.pageHasEmbeddedPdf()&&i==0&&$$WP.Utilities.UI.PDF.showPdfs()},_overlayClick:function(n){var t=$$WPComp.getInstance(n.data);return t&&t.dispose(),$$WPUtil.preventEvent(n)}},__setAriaHiddenForPage:function(n){var t=this.__getPageIdsForAria();for(i=0;i<t.length;i++)t[i].setAttribute("aria-hidden",n)},__getPageIdsForAria:function(){var t=this,n=[];return t.__addIdToArray("header",n),t.__addIdToArray("footer",n),t.__addIdToArray("content",n),t.__addIdToArray("menu-container",n),t.__addIdToArray("toastWrapper",n),n},__addIdToArray:function(n,t){var i=document.getElementById(n);i&&t.push(i)},_createPopupAlert:function(){var i="@MYCHART@PopupTitle@",n=document.createElement("span"),f;n.className="clearlabel";n.setAttribute("tabindex","0");n.setAttribute("role","alert");this.hasOwnProperty("PierceShieldOfJustice")&&n.setAttribute("data-pierce-shield","true");var r=this._Title.Text.toString(),t=$$WP.Strings.getNamespace("Core.Popup"),u=isDataTile()&&this.Size!==$$WPContain.Popup.SizeEnum.SMALL?"PopupWindowAlert":"PopupAlert";return u+=r?"WithTitle":"",t.addMnemonic(i,r),f=t.getStringForTemplate(u),t.removeMnemonic(i),n.appendChild(document.createTextNode(f)),n}};$$WPContain.Popup.extend("Containers.ContainerComponent");$$WPContain.Panel=function(n){var t=this;$$WPComp.applySettings(n,t);t.$parent=t.$parent||$afe.select("#main");t.Containers$ContainerComponent({})};$$WPContain.Panel.prototype={IsClosable:!1,Class:"Panel",$parent:$afe.select("#main")};$$WPContain.Panel.extend("Containers.ContainerComponent");$$WP.Containers.CommunityListManagerContainer=function(n){var t=this;n.Components=[n.HeaderComponent||t.HeaderComponent,n.ListComponent||t.ListComponent,n.FooterComponent||t.FooterComponent];t.Containers$ContainerComponent(n)};$$WP.Containers.CommunityListManagerContainer.prototype={HeaderComponent:$$WPComp.Component.prototype,FooterComponent:$$WPComp.Component.prototype,ListComponent:$$WPComp.Component.prototype,show:function(n){var t=this;n!==!0?(t.HeaderComponent.hide(),t.ListComponent.show(),t.FooterComponent.hide(),t.Components$Component$show()):t.Containers$ContainerComponent$show(!0)}};$$WP.Containers.CommunityListManagerContainer.extend("Containers.ContainerComponent"),function(){var f="<\/a><\/th>",e='" class="',o='" title="',u="componentNumber",i="if",t="function",n=null,s=Handlebars.template,r=$$WP.Templates=$$WP.Templates||{};r=r.Core=r.Core||{};r.calendar=s({compiler:[7,">= 4.0.0"],main:function(r,f,e,o,s,h,c){var a,l;return'<div class="calendar '+r.escapeExpression((l=(l=e.Class||(f!=n?f.Class:f))!=n?l:e.helperMissing,typeof l===t?l.call(f!=n?f:r.nullContext||{},{name:"Class",hash:{},data:s}):l))+'"><table><thead><tr>'+((a=e[i].call(f!=n?f:r.nullContext||{},f!=n?f.IsPrevEnabled:f,{name:i,hash:{},fn:r.program(1,s,0,h,c),inverse:r.program(3,s,0,h,c),data:s}))!=n?a:"")+'<th id="calmonth'+r.escapeExpression((l=(l=e.componentNumber||(f!=n?f.componentNumber:f))!=n?l:e.helperMissing,typeof l===t?l.call(f!=n?f:r.nullContext||{},{name:u,hash:{},data:s}):l))+'" class="calmonth" colspan="5">'+r.escapeExpression((l=(l=e.Title||(f!=n?f.Title:f))!=n?l:e.helperMissing,typeof l===t?l.call(f!=n?f:r.nullContext||{},{name:"Title",hash:{},data:s}):l))+"<\/th>"+((a=e[i].call(f!=n?f:r.nullContext||{},f!=n?f.IsNextEnabled:f,{name:i,hash:{},fn:r.program(5,s,0,h,c),inverse:r.program(3,s,0,h,c),data:s}))!=n?a:"")+"<\/tr><tr>"+((a=e.each.call(f!=n?f:r.nullContext||{},f!=n?f.Days:f,{name:"each",hash:{},fn:r.program(7,s,0,h,c),inverse:r.noop,data:s}))!=n?a:"")+"<\/tr><\/thead>"+r.escapeExpression((e.$$WP$Components$Calendar$getCalendarObject||f&&f.$$WP$Components$Calendar$getCalendarObject||e.helperMissing).call(f!=n?f:r.nullContext||{},f!=n?f.ComponentNumber:f,{name:"$$WP$Components$Calendar$getCalendarObject",hash:{},data:s}))+"<\/table><\/div> "},"1":function(i,r,s,h,c){var a="PrevTitle",v,l;return'<th id="calprev'+i.escapeExpression((l=(l=s.componentNumber||(r!=n?r.componentNumber:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:u,hash:{},data:c}):l))+o+i.escapeExpression((l=(l=s.PrevTitle||(r!=n?r.PrevTitle:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:a,hash:{},data:c}):l))+e+i.escapeExpression((l=(l=s.PrevClass||(r!=n?r.PrevClass:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:"PrevClass",hash:{},data:c}):l))+' calprev calnavbtn"><a data-id="calprev" href="#" aria-label="'+i.escapeExpression((l=(l=s.PrevTitle||(r!=n?r.PrevTitle:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:a,hash:{},data:c}):l))+'">'+((v=(l=(l=s.PrevButton||(r!=n?r.PrevButton:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:"PrevButton",hash:{},data:c}):l))!=n?v:"")+f},"3":function(){return"<th><\/th>"},"5":function(i,r,s,h,c){var a="NextTitle",v,l;return'<th  id="calnext'+i.escapeExpression((l=(l=s.componentNumber||(r!=n?r.componentNumber:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:u,hash:{},data:c}):l))+o+i.escapeExpression((l=(l=s.NextTitle||(r!=n?r.NextTitle:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:a,hash:{},data:c}):l))+e+i.escapeExpression((l=(l=s.NextClass||(r!=n?r.NextClass:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:"NextClass",hash:{},data:c}):l))+' calnext calnavbtn"><a data-id="calnext" href="#" aria-label="'+i.escapeExpression((l=(l=s.NextTitle||(r!=n?r.NextTitle:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:a,hash:{},data:c}):l))+'">'+((v=(l=(l=s.NextButton||(r!=n?r.NextButton:r))!=n?l:s.helperMissing,typeof l===t?l.call(r!=n?r:i.nullContext||{},{name:"NextButton",hash:{},data:c}):l))!=n?v:"")+f},"7":function(t,r,u,f,e,o,s){var h;return'<th class="hdr dayHeading" '+((h=u[i].call(r!=n?r:t.nullContext||{},s[1]!=n?s[1].IsAriaHidden:s[1],{name:i,hash:{},fn:t.program(8,e,0,o,s),inverse:t.noop,data:e}))!=n?h:"")+">"+((h=t.lambda(r,r))!=n?h:"")+"<\/th>"},"8":function(){return' aria-hidden="true"'},useData:!0,useDepths:!0})}();$$WPUtil.guaranteeExistence($$WP,"Components");$$WP.Components.Calendar=function(n){var r=!0,h="PrevButton",c="NextButton",l="HoverTextDisabled",a="UI.Calendar",v="HoverText",u="Global.Calendar",y="undefined",t=this,e,o,s,p,f,i;for(typeof $$WP!==y&&typeof $$WP.Strings!==y&&($$WP.Strings.setDefaultNamespace(u),$$WP.Strings.add("CalendarMonthTitleFormat","Jan"),$$WP.Strings.add("CalendarAudibleDate","_STR_AudibleDate_"),$$WP.Strings.add(v,$$WP.Strings.get("SelectTooltip",a)),$$WP.Strings.add(l,$$WP.Strings.get("NotAvailableTooltip",a)),$$WP.Strings.add(c,""),$$WP.Strings.add(h,""),$$WP.Strings.clearDefaultNamespace()),t.onSelect=n.onSelect||function(){},t.TitleText=n.TitleText||"",t.Image=n.Image||"",t.filter=n.filter||function(){return r},t.FromDTE=n.FromDTE,t.ToDTE=n.ToDTE,t.callback=n.callback||function(){},t.SelectedDate=n.SelectedDate,t.HighlightDays=n.HighlightDays||[],t.HasSelectableDays=n.HasSelectableDays===r,t._calendarMouseover=n._calendarMouseover||t._calendarMouseover,t.IsClickEventEnabled=n.IsClickEventEnabled||r,t.IsNextEnabled=n.IsNextEnabled||!1,t.IsPrevEnabled=n.IsPrevEnabled||!1,t.IsAriaHidden=n.IsAriaHidden||!1,f=0;f<t.HighlightDays.length;f++)t.HighlightDays[f].length>0&&(e=new Date(t.HighlightDays[f]),o=e.getMonth()+1,p=e.getDate(),s=e.getFullYear(),t.Dict[o+"/"+p+"/"+s]=r,t.SelectableMonths[o+"/"+s]=r);for(t.Today=$$WP.Utilities.IsNullOrEmpty(t.SelectedDate)?new Date:typeof t.SelectedDate.getYear=="function"?t.SelectedDate:typeof t.SelectedDate.getYear=="string"?new Date(t.SelectedDate):new Date,t.Month=t.Today.getMonth(),t.Year=t.Today.getFullYear(),t.PrevButton=$$WP.Strings.get(h,u),t.NextButton=$$WP.Strings.get(c,u),t.HoverText=$$WP.Strings.get(v,u),t.HoverTextDisabled=$$WP.Strings.get(l,u),i=0;i<7;i++)t.Days[i]='<span class="clearlabel">'+getDayName((i+getFirstDayOfWeek())%7)+"<\/span>"+getDayLetter((i+getFirstDayOfWeek())%7);t.Components$TemplateComponent(n);t.addEventListener("click",t._calendarClick);t.addEventListener("focus",t._calendarFocus)};$$WP.Components.Calendar.prototype={Today:{},Title:"",Image:"",Summary:"",Class:"calendar",filter:"",FromDTE:"",ToDTE:"",Callback:"",SelectedDate:"",HoverText:"",HoverTextDisabled:"",Month:"",Year:"",Days:[],PrevButton:"",NextButton:"",HighlightDays:[],HasSelectableDays:"",Dict:{},SelectableMonths:{},data:{},IsClickEventEnabled:!0,IsNextEnabled:!1,IsPrevEnabled:!1,IsAriaHidden:!1,template:$$WP.Templates.Core.calendar,setData:function(){this.setTitles();this.Components$TemplateComponent$setData(this.Data)},setTitles:function(){var u="CalendarNextPrevMonthHelpText",t="@MYCHART@DATEWITHMONTH@",n=this,f,l,e,o,s,a,h,c,v,i=n.Month,r=n.Year;v=!n.hasSelectableDay(i,r);s=$$WP.I18N.monthTitleFormat(makeDate(r,i+1));$$WP.Strings.setDefaultNamespace("UI.Calendar");$$WP.Strings.addMnemonic(t,$$WP.I18N.monthTitleFormat(makeDate(r,i)));f=$$WP.Strings.get(u);$$WP.Strings.removeMnemonic(t);$$WP.Strings.addMnemonic(t,$$WP.I18N.monthTitleFormat(makeDate(r,i+2)));h=$$WP.Strings.get(u);$$WP.Strings.removeMnemonic(t);$$WP.Strings.clearDefaultNamespace();e=n.IsPrevEnabled;c=n.IsNextEnabled;o=n.IsAriaHidden;n.Data={PrevClass:l,PrevButton:n.PrevButton,IsPrevEnabled:e,Title:s,PrevTitle:f,NextTitle:h,NextClass:a,NextButton:n.NextButton,IsNextEnabled:c,IsAriaHidden:o,Days:n.Days,ComponentNumber:n.ComponentNumber}},reInit:function(n){var t,u,f,e,i,r;if(!!n.HighlightDays)for(r=0;r<n.HighlightDays.length;r++)i=n.HighlightDays[r],!!i&&i.length>0&&(t=new Date(i),u=t.getMonth()+1,e=t.getDate(),f=t.getFullYear(),this.Dict[u+"/"+e+"/"+f]=!0);this.setData();this.refresh()},html:function(n){this.Components$Component$html(n);this.$content.find(".hasevents").safeAttr("data-id","hasevents")},_calendarClick:function(n){this.IsClickEventEnabled&&(n.dataId==="calnext"&&(this.drawNextMonth(),WP.Events.cancelEvent(n),WP.Events.preventDefault(n)),n.dataId==="calprev"&&(this.drawPreviousMonth(),WP.Events.cancelEvent(n),WP.Events.preventDefault(n)))},_calendarFocus:function(n,t){this.$$WP$Components$Calendar$_mouseover(n,t)},_isInCalendar:function(n){for(var t=n,i=0;t&&i<6;t=t.parentNode,i++)if(!!t&&!!t.id&&t.id.toLowerCase()==="calendar")return!0;return!1},setClickFunction:function(n){for(var u=this,h=u.hoverText,c=u.hoverTextDisabled,l=u.clickFunction,s=n.getElementsByTagName("td"),t,i,f=new Date,a=document.all?"hand":"pointer",e=function(n,t){var i="mouseover";WP.Events.addListener(n,"click",l);n.className==="ctrl"?(WP.Events.addListener(n,i,hi()),WP.Events.addListener(n,"mouseout",lo),WP.Events.addListener(n.firstChild,"focus",hi(!0)),WP.Events.addListener(n.firstChild,"blur",lo)):(WP.Events.addListener(n,i,function(){n.firstChild.focus()}),WP.Events.addListener(n.firstChild,"focus",hi()));n.style.cursor=a;t!==!0&&(n.title=h)},r=function(n){n.style.cursor="default";n.title=c},o=0;o<s.length;++o)(t=s[o],i=t.className,i!=="null"&&i!=="hdr"&&t.firstChild)&&(i==="ctrl"?e(t,!0):i.indexOf("othermonth")>0?r(t):i.indexOf("n")===0?r(t):i.indexOf("wkndn")===0?r(t):i==="ctrln"?r(t):i!=="today"?e(t):u.filter(f.getFullYear(),f.getMonth(),f.getDate())?e(t):r(t))},drawNextMonth:function(){var n=this;n.Month=(n.Month+1)%12;n.Month===0&&n.Year++;n.set()},drawPreviousMonth:function(){var n=this;n.Month=n.Month-1;n.Month<0&&(n.Month+=12);n.Month===11&&n.Year--;n.getCalendarObject();n.set()},hasSelectableDay:function(n,t){var r=1,i=makeDate(t,n+1,r);for(n=i.getMonth();i.getMonth()===n;){if(this.filter(i.getFullYear(),i.getMonth(),r))return!0;i.setDate(++r)}return!1},getCalendarObject:function(){var t=this,a=document.createElement("tbody"),h,f=t.Month,o=t.Year,n,e=new Date,p=e.getDate(),w=e.getMonth(),b=e.getFullYear(),k=WP.DOM.Create.tag,nt=!t.hasSelectableDay(f,o),d=t.IsAriaHidden,g=t,r,i,u,v,y,s,c,l;for(e.setHours(0,0,0,0),v=function(n,t,i){var r=n.getMonth(),u=n.getDate(),f=n.getFullYear(),e=n.getDay();return!$$WP.Utilities.IsNullOrEmpty(i)&&!t&&!!i[r+1+"/"+u+"/"+f]?!0:!1},y=function(n,t,i,r){var e=n.getMonth(),o=n.getDate(),s=n.getFullYear(),u="",c=n.getDay(),h;if($$WP.Utilities.IsNullOrEmpty(i)||t||!i[e+1+"/"+o+"/"+s]||(u=" hasevents"),n<r)u=u+" past";else if(e===f&&e===w&&o===p&&s===b)return"today"+u;return u+=t?" othermonth":"",h=c===0||c===6,g.filter(s,e,o)&&!t?(h?"wknd":"d")+u:(h?"wkndn":"n")+u},n=makeDate(o,f+1,1),s=n.getDay()-getFirstDayOfWeek(),s<0&&(s+=7),n.setDate(n.getDate()-s);n.getMonth()!==f+1&&n.getFullYear()<=o;){for(h=document.createElement("tr"),c=0;c<7;c++)u=n.getMonth()!==f,l=v(n,u,t.Dict,e),!u&&t.filter(o,f,n.getDate())?(l?(i=WP.DOM.Create.anchoredNode(t.drawCalendarDate(n),!0,""),i.className="haseventfocus selectableevent"):i=t.drawCalendarDate(n),t.firstDate&&t.firstDate!==""||(t.firstDate=n.getDate()),(!t.lastDate||t.lastDate<n.getDate())&&(t.lastDate=n.getDate())):i=document.createTextNode(u?"":n.getDate()),r=k("td",y(n,u,t.Dict,e),u?"":"cal_"+n.getFullYear()+"_"+n.getMonth()+"_"+n.getDate()),d&&!$afe.jq(r).hasClass("hasevents")&&r.setAttribute("aria-hidden","true"),l?r.appendChild(i):$$WP.Utilities.IsNullOrEmpty(i)||u?r.appendChild(i):dangerou$.setHtml(r,i),h.appendChild(r),n.setDate(n.getDate()+1);a.appendChild(h)}return a.innerHTML},drawCalendarDate:function(n){var t,i,r;return i=$$WP.I18N.getCalendarDateAriaString(n),r=n.getDate(),t='<span class="clearlabel">'+i+"<\/span>",t+'<span aria-hidden="true">'+r+"<\/span>"}};Handlebars.registerHelper("$$WP$Components$Calendar$getCalendarObject",function(n){return new Handlebars.SafeString($$WP.Components.getInstance(n).getCalendarObject());var t});$$WP.Components.Calendar.extend("Components.TemplateComponent");$$WPUtil.guaranteeExistence($$WP,"Containers");$$WP.Containers.MultiMonthCalendar=function(n){var f=!1,t=this,r,u,e,h,i,o,s,c;for(t.Containers$ContainerComponent(n),t.NumOfMonths=n.NumOfMonths||2,t.Class="multiMonthCalendar",t.Today=new Date,t.Month=t.Today.getMonth(),t.Year=t.Today.getFullYear(),t.IsAriaHidden=n.IsAriaHidden||f,r="SingleCalendar ",r=t.NumOfMonths<2?r+"full":t.NumOfMonths>2?r+"onethird":r+"half",u=t.Month,e=t.Year,h=t.IsAriaHidden,i=0;i<t.NumOfMonths;i++)o=f,s=f,i===0&&(s=!0),i===t.NumOfMonths-1&&(o=!0),c=new $$WP.Components.Calendar({Class:r,Month:u,Year:e,IsClickEventEnabled:f,IsNextEnabled:o,IsPrevEnabled:s,IsAriaHidden:h}),u=(u+1)%12,u===0&&e++,t.CalendarComponents[i]=c,t.addComponent(t.CalendarComponents[i]),t.CalendarComponents[i].show();t.Containers$ContainerComponent(n);t.addEventListener("click",t._calendarClick)};$$WP.Containers.MultiMonthCalendar.prototype={Today:{},NumOfMonths:0,Month:"",Year:"",CalendarComponents:[],Class:"multiMonthCalendar",MonthsMap:{},HighlightDays:[],data:{},IsAriaHidden:!1,setData:function(n){for(var t=this,r,i=0;i<t.NumOfMonths;i++)t.CalendarComponents[i].Data=n,r=t.CalendarComponents[i].settings||{},r.HighlightDays=n.HighlightDays,t.CalendarComponents[i].reInit(r);t.MonthsMap=n.MonthsMap||{};t.MonthsMap&&t.setToolbarButtons()},setToolbarButtons:function(){var l="calendarnextandpreveventtitle",f="@MYCHART@APPTYEAR@",e="@MYCHART@APPTDATE@",o="@MYCHART@APPTMONTH@",s="@MYCHART@APPTTITLE@",n=this,h=[],i,c,a,v,y,r,u,p,t;p=!1;i=n.Month;c=n.Year;i=(i+1)%12;i===0&&c++;y=n.getFormattedMonthID(i,c);r=n.getPreviousEvent();u=n.getNextEvent();$$WP.Strings.setDefaultNamespace("clinical.todo");r&&(t=new Date(n.MonthsMap[r].EndEvent.EventDate),$$WP.Strings.addMnemonic(s,n.MonthsMap[r].EndEvent.EventName),$$WP.Strings.addMnemonic(o,getMonthAbbr(t.getMonth()+1)),$$WP.Strings.addMnemonic(e,t.getDate()),$$WP.Strings.addMnemonic(f,t.getFullYear()),a=$$WP.Strings.getForTemplate(l),$$WP.Strings.removeMnemonic(s),$$WP.Strings.removeMnemonic(o),$$WP.Strings.removeMnemonic(e),$$WP.Strings.removeMnemonic(f),h.push(new $$WPComp.ComplexObjects.Button(a,"","calendarBackEventBtn calendarBtns tertiary neutral",r)));u&&(t=new Date(n.MonthsMap[u].StartEvent.EventDate),$$WP.Strings.addMnemonic(s,n.MonthsMap[u].StartEvent.EventName),$$WP.Strings.addMnemonic(o,getMonthAbbr(t.getMonth()+1)),$$WP.Strings.addMnemonic(e,t.getDate()),$$WP.Strings.addMnemonic(f,t.getFullYear()),v=$$WP.Strings.getForTemplate(l),$$WP.Strings.removeMnemonic(s),$$WP.Strings.removeMnemonic(o),$$WP.Strings.removeMnemonic(e),$$WP.Strings.removeMnemonic(f),h.push(new $$WPComp.ComplexObjects.Button(v,"","calendarNextEventBtn calendarBtns tertiary neutral",u)));$$WP.Strings.clearDefaultNamespace();n.setToolbar(h)},getPreviousEvent:function(){var n=this,t,s,f,r,e,o,i,u;f=n.Month;r=n.Year;t="";s=n.getFormattedMonthID(f,r);for(i in n.MonthsMap)if(n.MonthsMap.hasOwnProperty(i)&&(u=i.split("_"),u.length>=0))if(e=parseInt(u[0],10),o=parseInt(u[1],10),r>e)t=i;else if(r===e)if(f>o)t=i;else break;else break;return t!==""?t:null},getNextEvent:function(){var n=this,h,c,i,r,t,e,s,o,u,f;for(t=n.Month,i=n.Year,r=!1,o=0;o<n.NumOfMonths;o++)t=(t+1)%12,t===0&&i++;h="";c=n.getFormattedMonthID(t,i);for(u in n.MonthsMap)if(n.MonthsMap.hasOwnProperty(u)&&(f=u.split("_"),f.length>=0&&(e=parseInt(f[0],10),s=parseInt(f[1],10),i<=e&&(r=!0,i===e&&(r=t<=s?!0:!1)),r)))return u;return null},moveCalendarMonths:function(n,t){for(var r=this,i=0;i<r.NumOfMonths;i++)r.CalendarComponents[i].Month=n,r.CalendarComponents[i].Year=t,n=(n+1)%12,n===0&&t++,r.CalendarComponents[i].setTitles(),r.CalendarComponents[i].refresh();r.setToolbarButtons()},_calendarClick:function(n){var e=!0,t=this,i,r,u,f=!1;return n.dataId==="calnext"?(t.Month=(t.Month+1)%12,t.Month===0&&t.Year++,i=t.Month,r=t.Year,t.moveCalendarMonths(i,r),n.preventDefault(),f=e):n.dataId==="calprev"?(t.Month=t.Month-1,t.Month<0&&(t.Month+=12),t.Month===11&&t.Year--,i=t.Month,r=t.Year,t.moveCalendarMonths(i,r),n.preventDefault(),f=e):n.target.className.indexOf("calendarNextEventBtn")!==-1?(u="",n.dataId&&(u=n.dataId.substring(7)),u.length>5&&(r=u.substring(0,4),i=u.substring(5,u.length)),r&&i&&(r=parseInt(r,10),i=parseInt(i,10),i=i-(t.NumOfMonths-1),i<0&&(i+=12,r--),t.Month=i,t.Year=r,t.moveCalendarMonths(i,r)),n.preventDefault(),f=e):n.target.className.indexOf("calendarBackEventBtn")!==-1&&(u="",n.dataId&&(u=n.dataId.substring(7)),u.length>5&&(r=u.substring(0,4),i=u.substring(5,u.length)),r&&i&&(r=parseInt(r,10),i=parseInt(i,10),t.Month=i,t.Year=r,t.moveCalendarMonths(i,r)),n.preventDefault(),f=e),f?(t.$container.find("a").first().focus(),!1):void 0},getFormattedMonthID:function(n,t){return t+"_"+n}};$$WP.Containers.MultiMonthCalendar.extend("Containers.ContainerComponent");DateChooser.prototype.drawCalendar=function(n){var h="keydown",e="cal",o="0px",y="calendar",t=this,i,f,p,s,r,c,w,b,k,d,g,nt,l,u,a,v;if(n=n===undefined?null:n,_removeCalendar(!0),_dateChooser=t,i=document.createElement("div"),w=new Date,i.id=y,i.className=y,i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),i.setAttribute("aria-labelledby","monthlabel"),t.lastDayOfMonth=new Date(t.year,t.month+1,0),t.lastDateOfMonth=t.lastDayOfMonth.getDate(),l=getFirstDayOfWeek(),u=t.lastDayOfMonth.getDay()-l,t.lastDisplayedDateId=u>=0?t.lastDateOfMonth-u+6:t.lastDateOfMonth-u+7,u=new Date(t.year,t.month,1).getDay()-l,t.firstDisplayedDateId=u>=0?1-u:-u-6,i.appendChild(t.getCalendarObject()),t.setClickFunction(i),c=document.documentElement.className.indexOf("mobile")>=0,t.trigger.offsetParent||(t.trigger=document.getElementById(t.trigger.id)),t.trigger.offsetParent?(i.style.position="absolute",f=getElementPosition(t.trigger),p=f.topElement,p.appendChild(i),$$WPContain.Popup.__zIndex+=3,i.style.zIndex=3e3+$$WPContain.Popup.__zIndex,i.style.left=f.x,i.style.top=f.y,g=$afe.select("html.datatile")[0],d=$afe.jq(t.trigger).parents(".Popup")[0],nt=document.getElementById("main"),s=d||g||nt,b=s.offsetWidth,k=s.offsetHeight,f=getElementPosition(t.trigger,s),i.offsetWidth&&(a=parseInt(i.style.left,10),r=parseInt(f.x,10)+i.offsetWidth-b,r>0&&(i.style.left=r<a?a-r+"px":o)),i.offsetHeight&&(v=parseInt(i.style.top,10),r=parseInt(f.y,10)+i.offsetHeight-k,r>0&&(i.style.top=r<v?v-r+"px":o)),c&&(i.style.left=o,i.style.position="fixed",i.style.top=o)):($afe.jq(t.trigger.parentNode).safeInsertBefore(i,t.trigger),$afe.jq(t.trigger).addClass("hidden")),$afe.select(".currentselected").removeClass("currentselect"),t.calendar=i,WP.Events.addListener(document.body,"click",removeCalendar),WP.Events.addListener(document.body,"mouseover",restoreHi),n!==undefined&&n!==null?(n=n>t.lastDateOfMonth?t.lastDateOfMonth:n,document.getElementById(e+n).firstChild.focus()):t.month===t.today.getMonth()&&t.year===t.today.getFullYear()&&document.getElementById(e+w.getDate())?(document.getElementById(e+t.date).firstChild.focus(),t.focusOn=e+t.date):(document.getElementById(e+t.firstDate).firstChild.focus(),t.focusOn=e+t.firstDate),WP.Events.addListener(document.getElementById("calprev"),h,keyOnPrevMonth),WP.Events.addListener(document.getElementById("calnext"),h,keyOnNextMonth),WP.Events.addListener(document.getElementById("calcancel"),h,tabOnCancel),accessibilityHidePage(),t.firstDate="",t.lastDate="",c)$afe.jq(i).on("touchmove",function(n){$$WP.Utilities.Mobile.Optimization.IgnoreTouchMove(n,!0)})};DateChooser.prototype.clearCalendar=function(){var n=this;_removeCalendar();n.callback();n.trigger.className=n.trigger.className.replace(" hidden","");n.input.focus()};DateChooser.prototype.setClickFunction=function(n){for(var e=this.hoverText,o=this.hoverTextDisabled,s=this.clickFunction,u=n.getElementsByTagName("td"),i,t,l=new Date,h=document.all?"hand":"pointer",f=function(n,t){var i="mouseover";WP.Events.addListener(n,"click",s);n.className==="ctrl"?(WP.Events.addListener(n,i,hi()),WP.Events.addListener(n,"mouseout",lo),WP.Events.addListener(n.firstChild,"focus",hi(!0)),WP.Events.addListener(n.firstChild,"blur",lo)):(WP.Events.addListener(n,i,function(){n.firstChild.focus()}),WP.Events.addListener(n.firstChild,"focus",hi()));n.style.cursor=h;t!==!0&&(n.firstChild.title=e)},c=function(n){n.style.cursor="default";n.title=o},r=0;r<u.length;++r)(i=u[r],t=i.className,t!=="null"&&t!=="hdr"&&i.firstChild)&&(t==="ctrl"?f(i,!0):t.indexOf("wkndn")>=0||t.indexOf("n")===0||t.indexOf("ctrln")>=0?c(i):f(i));WP.Events.addListener(n,"keydown",HandleKeyDown)};DateChooser.prototype.isDateDisplayed=function(n){return n>=this.firstDisplayedDateId&&n<=this.lastDisplayedDateId};DateChooser.prototype.drawNextMonth=function(n){var t=this,i;n=n===undefined?null:n;t.clearCalendar();t.month=(t.month+1)%12;t.month===0&&t.year++;t.drawCalendar(n);n||t.wasEnter||t.month===t.today.getMonth()||(i=document.getElementById("calnext"),i!==null&&(i=i.firstChild,i&&i.nodeName.toUpperCase()==="A"&&i.focus()))};DateChooser.prototype.drawPreviousMonth=function(n){var t=this,i;n=n===undefined?null:n;t.clearCalendar();t.month=t.month-1;t.month<0&&(t.month+=12);t.month===11&&t.year--;t.drawCalendar(n);n||t.wasEnter||t.month===t.today.getMonth()||(i=document.getElementById("calprev").firstChild,i&&i.nodeName.toUpperCase()==="A"&&i.focus())};DateChooser.prototype.getCalendarObject=function(){var g="role",ot="tabindex",v="true",nt="aria-hidden",y="aria-label",a="ctrl",c="td",p="tr",t="",l="UI.Calendar",o=this,w=document.createElement("table"),tt=document.createElement("thead"),it=document.createElement("tbody"),r,n,i,f=o.month,e=o.year,lt=o.filter,b,h,u,rt=new Date,at=rt.getDate(),vt=rt.getMonth(),yt=rt.getFullYear(),s=WP.DOM.Create.tag,k=$$WP.Strings.get("PrevButtonOverride",l),st=$$WP.Strings.get("PrevButtonTooltip",l),d=$$WP.Strings.get("NextButtonOverride",l),ht=$$WP.Strings.get("NextButtonTooltip",l),pt=$$WP.Strings.get("CancelButton",l),ct=$$WP.Strings.get("CancelTooltip",l);for(k===t&&(k="&laquo;"),d===t&&(d="&raquo"),h=!hasSelectableDay(f,e),r=document.createElement(p),hasSelectableDay(f-1,e)||h?(n=s(c,a+(hasSelectableDay(f-1,e)||h?t:"n"),"calprev",st),i=WP.DOM.Create.anchoredNode(k,!1,t),n.appendChild(i),i.setAttribute(y,st)):(n=s(c,a+(hasSelectableDay(f-1,e)||h?t:"n"),"calprev",$$WP.I18N.monthTitleFormat(makeDate(e,f)),k),n.setAttribute(nt,v)),r.appendChild(n),r.appendChild(s("th","hdr calmonth","monthlabel",t,$$WP.I18N.monthTitleFormat(makeDate(e,f+1)))),r.lastChild.colSpan=5,hasSelectableDay(f+1,e)||h?(n=s(c,a+(hasSelectableDay(f+1,e)||h?t:"n"),"calnext",ht),i=WP.DOM.Create.anchoredNode(d,!1,t),n.appendChild(i),i.setAttribute(y,ht)):(n=s(c,a+(hasSelectableDay(f+1,e)||h?t:"n"),"calnext",$$WP.I18N.monthTitleFormat(makeDate(e,f+2)),d),n.setAttribute(nt,v)),r.appendChild(n),tt.appendChild(r),r=document.createElement(p),b=0;b<7;b++)n=s("th","hdr",t,t,getDayLetter((b+getFirstDayOfWeek())%7)),$afe.jq(n).safeAttr(nt,v),r.appendChild(n);tt.appendChild(r);w.appendChild(tt);for(var ut,wt=function(n,i){var u=n.getMonth(),f=n.getDate(),e=n.getFullYear(),o=n.getDay(),r,s;return r=o===0||o===6,s=u===vt&&f===at&&e===yt,(lt(e,u,f)?r?"wknd":"d":r?"wkndn":"n")+(s?" today":t)+(i?" othermonth":t)},ft,et=o.firstDisplayedDateId,u=new Date(e,f,et);u.getMonth()!==f+1&&u.getFullYear()<=e;){for(r=document.createElement(p),ft=0;ft<7;ft++)ut=u.getMonth()!==f,n=s(c,wt(u,ut),"cal"+et),i=s("button",t,t,t,u.getDate()),i.setAttribute(y,$$WP.I18N.getCalendarDateAriaString(u)),o.filter(u.getFullYear(),u.getMonth(),u.getDate())?(i.setAttribute(ot,"0"),ut||(o.firstDate&&o.firstDate!==t||(o.firstDate=u.getDate()),(!o.lastDate||o.lastDate<u.getDate())&&(o.lastDate=u.getDate()))):(i.setAttribute(ot,"-1"),i.setAttribute("aria-disabled",v),i.style.cursor="default"),n.appendChild(i),u.getTime()===_dateChooser.today.getTime()&&applyClass(n,"currentselected"),r.appendChild(n),u.setDate(u.getDate()+1),et++;it.appendChild(r)}return r=document.createElement(p),n=s(c,a,"calcancel",ct),n.setAttribute(g,"presentation"),i=WP.DOM.Create.anchoredNode(pt),$afe.jq(i).safeAttr(g,"option"),$afe.jq(i).safeAttr(y,ct),n.appendChild(i),r.appendChild(n),r.firstChild.colSpan=7,it.appendChild(r),$afe.jq(w).safeAttr(g,"grid"),w.appendChild(it),w};$$WP.Utilities.UI.Calendars=function(n){var t;n.type==="load"&&(t=$afe.select("input.date.withCalendar"),t.each(function(){var n=$afe.jq(this);n.next().is("a.datechooserAnchor")||writeCalendar(n,n.safeAttr("data-filter"),makeStaticLink("images/calendar.svg"),n.safeAttr("data-filter-from"),n.safeAttr("data-filter-to"),n.safeAttr("data-callback"))}))};$$WP.Utilities.UI.Map.Support.calendars=$$WP.Utilities.UI.Calendars;typeof WP=="undefined"&&(WP={});typeof WP.Validators=="undefined"&&(WP.Validators={});WP.Validators.currentAlerts={};WP.Validators.alertsHolder=null;WP.Validators.DisplayErrors=function(n,t,i){var s="matchColumnHeights",h="object",e="&nbsp;",r,u,f,o,c;if((WP.suppressErrors===!0||n===" ")&&(n=""),typeof n=="function"){try{r=n(t)}catch(l){r=""}if(r==="")return}else r=typeof n=="string"?n:n.innerText||n.textContent;if(u=i||WP.Validators.alertsHolder,!u){r&&$$WP.Utilities.quickMessageBox(r,"",[],null,[],"");return}if(!t){if((r===e||r===" "||r===HTMLUnencode(e))&&(r="",typeof n===h&&$afe.jq(n).text()===HTMLUnencode(e)&&(n=e)),WP.Validators.currentAlerts={},typeof n===h)$afe.jq(u).empty(),u.appendChild(n);else{if(u.innerHTML===r)return;dangerou$.setHtml(u,r);r===e&&(c=u.innerText||u.textContent||"",c.length===0&&$T(u,String.fromCharCode(6)))}$afe.jq(window).trigger(s);return}if(f=WP.Validators.currentAlerts,!r){f[t]&&(u.removeChild(f[t]),delete f[t]);$afe.jq(window).trigger(s);return}(f[t]||(o=document.createElement("p"),o.className="alert",f[t]=o,u.appendChild(o)),f[t].innerHTML!==r&&f[t]!==r)&&(typeof n===h?($afe.jq(f[t]).empty(),f[t].appendChild(n)):dangerou$.setHtml(f[t],r),$afe.jq(window).trigger(s))};typeof WP.Validators.Text=="undefined"&&(WP.Validators.Text={});WP.Validators.Text.MaxLengthAndRequired=function(n,t,i,r,u,f){var c="alertborder",y="@MYCHART@MAXLEN@",l="function",o=!0,a="focus",p="fadedtext",w="ghostInput",h,s,v,e={};n&&(typeof n=="string"&&(n=document.getElementById(n)),u=u||null,t=t||"",v=t.length>0,i=i||200,e.hideHintTextFun=function(){var t=$afe.jq(n);t.parent().hasClass(w)||(t.removeClass(p).val(""),WP.Events.removeListener(n,a,e.hideHintTextFun))},e.showHintTextFun=function(){var t=$afe.jq(n);t.parent().hasClass(w)||(t.addClass(p).val("Enter Text Here"),WP.Events.addListener(n,a,e.hideHintTextFun))},u&&(s=WP.Validators.Forms[u],typeof s=="undefined"&&(WP.Validators.Forms[u]=[],s=WP.Validators.Forms[u]),h=s.length),e.isEmpty=WP.Strings.isEmpty,e.scrollPreventer=function(){var t=n.scrollTop,i=n.scrollHeight,r=t+n.height===n.scrollHeight;e.valueChecker();n.scrollTop!==t&&(n.scrollTop=r===o?i:t);typeof f===l&&f()},e.valueChecker=function(){var w="data-invalid",p,l,a,f;$input=$afe.jq(n);$$WP.Utilities.setActivity();p=n.value.length;l={};l[y]=i;p>i?(l["@MYCHART@OVERLIMIT@"]=p-i,f=decodeMnemonics("@MYCHART@OVERLIMIT@ too many characters",l),a=createAlert(f,!1)):(l["@MYCHART@REMAININGCHARACTERS@"]=Math.max(0,i-p)+"",f=e.isEmpty(n.value)&&v?t:" ",a=f.trim().length>0?createAlert(f,o):decodeMnemonics("@MYCHART@REMAININGCHARACTERS@ of @MYCHART@MAXLEN@ characters left",l),removeClassNames(n,c));a.length===0&&(a="&nbsp;");WP.Validators.DisplayErrors(a,"",r);u&&(s[h]=f,f.trim().length>0?($input.safeAttr(w,"true"),applyClass(n,"invalid")):($input.removeAttr(w),removeClassNames(n,"invalid")))},e.focusFun=function(){removeClassNames(n,c);WP.Events.removeListener(n,a,e.focusFun)},e.blurFun=function(){var p,w,b,k,d;e.isEmpty(n.value)?(n.value.length===0&&e.showHintTextFun(),v&&(p=o,w={},w[y]=i,b=decodeMnemonics(t,w),k=createAlert(b,o),WP.suppressErrors===o&&applyClass(k,"clearlabel"),WP.Validators.DisplayErrors(k,"",r),u&&(s[h]=b))):n.value.length<=i?(removeClassNames(n,c),WP.Validators.DisplayErrors("&nbsp;","",r),u&&(s[h]=" "),typeof f===l&&f()):p=o;p&&WP.suppressErrors!==o&&(applyClass(n,c),WP.Events.addListener(n,a,e.focusFun));e.valueChecker();d=$afe.select("form#"+u);d.length>0&&$$WP.FormValidation.checkIfFormIsValid(d,o)},e.afterCutPaste=function(){window.setTimeout(e.scrollPreventer,1)},WP.Events.addListener(n,"blur",e.blurFun),WP.Events.addListener(n,"keyup",e.scrollPreventer),WP.Events.addListener(n,"paste",e.afterCutPaste),WP.Events.addListener(n,"cut",e.afterCutPaste),WP.Validators.undoRedo(n),WP.suppressErrors=o,e.scrollPreventer(),e.blurFun(),WP.suppressErrors=!1,n.removeMaxLength=function(){WP.Events.removeListener(n,"blur",e.blurFun);WP.Events.removeListener(n,"keyup",e.scrollPreventer);WP.Events.removeListener(n,"cut",e.afterCutPaste);WP.Events.removeListener(n,"paste",e.afterCutPaste);e.hideHintTextFun();e.focusFun();delete e.blurFun;delete e.scrollPreventer;delete e.valueChecker;delete e.isEmpty;delete e.firstAction;delete e.showHintTextFun;delete e.hideHintTextFun;delete e.focusFun;s[h]="";typeof f===l&&f();typeof n.removeUndoRedo===l&&n.removeUndoRedo()})};typeof WP.Validators.undoRedo=="undefined"&&(WP.Validators.undoRedo=function(n){var i=!0,r=!1,t;navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(t={undoStack:[n.value],redoStack:[],isDeleting:r,isInserting:r},t.pop=function(n){if(n.length!==0){var t=n[n.length-1];return n.length-=1,t}},t.addUndoFun=function(r){n.value!=="Enter Text Here"&&(t.undoStack.length===0||n.value!==t.undoStack[t.undoStack.length-1])&&(t.undoStack[t.undoStack.length]=n.value,t.undoStack.length>75&&t.undoStack.shift(),r!==i&&(t.redoStack=[]))},t.onKeyUp=function(u){var f,e=u||window.event;if(e.ctrlKey===r){t.clearNativeUndo();return}if(e.keyCode===90){if(t.undoStack.length===0)return;t.redoStack[t.redoStack.length]=n.value;f=t.pop(t.undoStack);f===n.value&&(f=t.pop(t.undoStack)||"");n.value=f}else if(e.keyCode===89){if(t.redoStack.length===0)return;f=t.pop(t.redoStack);t.addUndoFun(i);n.value=f}},t.onKeyDown=function(n){var u=n||window.event;u.keyCode===8||u.keyCode===46?(t.isDeleting=i,t.isInserting===i&&(t.isInserting=r,t.addUndoFun())):(t.isInserting=i,t.isDeleting===i?(t.isDeleting=r,t.addUndoFun()):u.keyCode===32?(t.isSpacing!==i&&t.addUndoFun(),t.isSpacing=i):(t.isSpacing===i&&t.addUndoFun(),t.isSpacing=r))},t.clearNativeUndo=function(){var n=document.createElement("div");document.body.appendChild(n);document.body.removeChild(n)},WP.Events.addListener(n,"keyup",t.onKeyUp),WP.Events.addListener(n,"paste",t.addUndoFun),WP.Events.addListener(n,"cut",t.addUndoFun),WP.Events.addListener(n,"keydown",t.onKeyDown),n.removeUndoRedo=function(){WP.Events.removeListener(n,"keyup",t.onKeyUp);WP.Events.removeListener(n,"paste",t.addUndoFun);WP.Events.removeListener(n,"cut",t.addUndoFun);WP.Events.removeListener(n,"keydown",t.onKeyDown);try{delete t.addUndoFun;delete t.onKeyDown;delete t.undoStack;delete t.redoStack;delete t.isDeleting;delete t.isInserting;delete t.pop;delete t.clearNativeUndo}catch(i){}},t.addUndoFun())});typeof WP.Validators.Calendar=="undefined"&&(WP.Validators.Calendar={aftertwodays:function(n,t,i){return new Date(n,t,i)-new Date>86399e3},past:function(n,t,i){return new Date(n,t,i)<=new Date},future:function(n,t,i){return new Date(n,t,i+1)>=new Date},range:function(n,t,i){var r,u,f;return u=window.cachedStartDate,f=window.cachedEndDate,r=new Date(n,t,i),u&&r<u?!1:f&&r>f?!1:!0},any:function(){return!0}});typeof WP.Validators.Forms=="undefined"&&(WP.Validators.Forms={});WP.Validators.Forms.SelectionRequired=function(n,t,i,r,u,f){var h="alertborder",l="function",o=!0,c,s,a,e={};n&&(typeof n=="string"&&(n=document.getElementById(n)),u=u||null,t=t||"",a=t.length>0,i=i||-1,u&&(s=WP.Validators.Forms[u],typeof s=="undefined"&&(WP.Validators.Forms[u]=[],s=WP.Validators.Forms[u]),c=s.length),e.scrollPreventer=function(){var t=n.scrollTop,i=n.scrollHeight,r=t+n.height===n.scrollHeight;e.blurFun();n.scrollTop!==t&&(n.scrollTop=r===o?i:t);typeof f===l&&f()},e.focusFun=function(){removeClassNames(n,h);WP.Events.removeListener(n,"focus",e.focusFun)},e.blurFun=function(){var p,w,v,y;n.value==i?a&&(p=o,w={},v=decodeMnemonics(t,w),y=createAlert(v,o),WP.suppressErrors===o&&applyClass(y,"clearlabel"),WP.Validators.DisplayErrors(y,"",r),u&&(s[c]=v)):(removeClassNames(n,h),WP.Validators.DisplayErrors("","",r),u&&(s[c]=" "),typeof f===l&&f());p&&WP.suppressErrors!==o&&(applyClass(n,h),WP.Events.addListener(n,"focus",e.focusFun))},WP.Events.addListener(n,"blur",e.blurFun),WP.Events.addListener(n,"change",e.blurFun),WP.Events.addListener(n,"keyup",e.scrollPreventer),WP.suppressErrors=o,e.scrollPreventer(),e.blurFun(),WP.suppressErrors=!1)};$$WPContain.HTMLTemplateContainer=function(n){n=n||{};n.$parent&&n.$parent.length>0&&(n.Html=n.$parent.html(),n.$parent.empty());this.Containers$Panel(n)};$$WPContain.HTMLTemplateContainer.prototype={SupportedComponents:[],ComponentProperties:{SupportAnimations:!0},ContainerProperties:{SupportAnimations:!0},Class:"HPtemplate",html:function(n){var i=this,t,r;i.clearComponents();i.Components$Component$html(n);i.show(!1);t=i;t.$content.find("[data-component]").each(function(){var i,u,f,n,c,s,h,e,o;if(i=$afe.jq(this),u=i.safeAttr("data-component"),s=i.safeAttr("data-component-settings"),$.inArray(u,t.SupportedComponents)>=0||t.SupportedComponents.length===0){if(n=$$WPUtil.copyObject(t.ComponentProperties),n.$container=n.$container||i,u==="campaigns"){r=function(){new $$WP.CampaignOutreach.CampaignsController(n.$container).render()}.bind(this);return}if(s)for(n.TemplateSettings={},h=s.split("&"),o=0;o<h.length;o++)e=h[o].split("="),e[0]&&(n.TemplateSettings[e[0]]=e[1]);c=$$WPUtil.copyObject(t.ContainerProperties);n.$parent=n.$parent||i.parent();f=t._getNewComponent(u,n,c);f&&(t.addComponent(f),f.show())}});getCSRFTokenAsQS(function(){$.each(t._Components,function(n,t){t.load()});r&&r()})},_getNewComponent:function(n,t){var u="Unable to load medications widget. ",i;switch(n){case"alerts":try{i=$$WPUtil.ComponentFactory.HomePage.alerts(t)}catch(r){console.log("Unable to load alerts component. "+r)}break;case"news":try{i=$$WPUtil.ComponentFactory.HomePage.news(t)}catch(r){console.log("Unable to load news component. "+r)}break;case"quicklinks":try{i=$$WPUtil.ComponentFactory.HomePage.quickLinks(t)}catch(r){console.log("Unable to load quicklinks component. "+r)}break;case"careteam":try{i=new $$WP.Clinical.CareTeam.Components.CareTeam(t)}catch(r){console.log("Unable to load care team widget. "+r)}break;case"todo":try{i=new $$WP.Clinical.ToDo.Containers.ToDoEventsContainer(t)}catch(r){console.log("Unable to load todo widget. "+r)}break;case"medications":try{i=new $$WP.Clinical.Medications.Components.MedicationsWidgetComponent(t)}catch(r){console.log(u+r)}break;case"goals":try{i=new $$WP.Clinical.Goals.Components.GoalsComponent(t)}catch(r){console.log("Unable to load goals widget. "+r)}break;case"guarantor":try{i=new $$WP.GuarantorVerification.Components.GuarantorDetailsComponent(t)}catch(r){console.log("Unable to load guarantor widget. "+r)}break;case"viewdocuments":try{i=new $$WP.ViewDocument.Components.ViewDocument(t)}catch(r){console.log("Unable to load view document widget. "+r)}break;case"externalalerts":try{i=new $$WP.Alerts.Components.ExternalAlertsComponent(t)}catch(r){console.log("Unable to load external alerts. "+r)}break;case"reviewmessages":try{t.Mailbox=t.$container.safeAttr("data-mailbox");t.SupportAnimations=!1;i=new $$WP.Messaging.ReviewMessagesContainer(t)}catch(r){console.log("Unable to load message list widget. "+r)}break;case"allergies":try{i=new $$WP.Clinical.Allergies.Components.Allergies(t)}catch(r){console.log("Unable to load allergies. "+r)}break;case"healthissues":try{i=new $$WP.Clinical.HealthIssues.Components.HealthIssues(t)}catch(r){console.log("Unable to load health issues. "+r)}break;case"medicationsdetails":try{i=new $$WP.Clinical.Medications.Components.MedicationsDetailsComponent(t)}catch(r){console.log(u+r)}break;case"externallinking":try{i=new $$WP.Community.Components.ExternalLinkingComponent(t)}catch(r){console.log("Unable to load external linking. "+r)}break;case"visitslist":try{i=new $$WP.Visits.VisitsListContainer(t)}catch(r){console.log("Unable to load visits widget. "+r)}break;case"upcomingcalendar":try{i=new $$WP.Visits.VisitsCalendarContainer(t)}catch(r){console.log("Unable to load calendar widget. "+r)}break;case"testresultspoc":try{i=new $$WP.Clinical.TestResultsPOC.Components.TRPComponent(t)}catch(r){console.log("Unable to load test results POC list widget. "+r)}break;case"testresults":try{t.SupportAnimations=!1;i=new $$WP.Clinical.TestResults.TestResultsContainer(t)}catch(r){console.log("Unable to load test results list widget. "+r)}break;case"personalnotes":try{i=new $$WP.Clinical.PersonalNotes.Components.PersonalNotesComponent(t)}catch(r){console.log("Unable to load patient notes. "+r)}}return i}};$$WPContain.HTMLTemplateContainer.extend("Containers.Panel");$$WPUtil.ComponentFactory.HomePage.Main=function(n){return n=n||{},n.SupportedComponents=n.SupportedComponents||[],n.$parent=$afe.select("#homepagemain"),n.$parent.addClass("widgets"),new $$WPContain.HTMLTemplateContainer(n)};$$WPUtil.ComponentFactory.GuarantorVerification=function(n,t){return t=t||{},t.ComponentProperties=t.ComponentProperties||{},t.ComponentProperties.encCSN=n,t.SupportedComponents=["guarantor"],t.$parent=$afe.select("#guarantorverificationtemplate"),new $$WPContain.HTMLTemplateContainer(t)};$$WPUtil.ComponentFactory.HomePage.Sidebar=function(n){return n=n||{},n.SupportedComponents=n.SupportedComponents||[],n.$parent=$afe.select("#homepagesidebar"),n.$parent.addClass("widgets"),new $$WPContain.HTMLTemplateContainer(n)};$$WPComp.SafeToRedirectComponent=function(n){var t=this;if($$WPComp.applySettings(n,t),typeof t.callback!="function")throw"A callback function is required for SafetoRedirectPopup";if(t.CallbackContext=t.CallbackContext||t,t.Components$Component({}),!WP.Events.showBeforeUnloadMessage()){WP.Events.beforeUnloadHold=!0;t.callback.apply(t.CallbackContext,[!0]);t._alreadyExecutedCallback=!0;t.dispose();return}t.addEventListener("click",t.clickSafeToRedirect)};$$WPComp.SafeToRedirectComponent.prototype={IsClosable:!0,ToolbarButtons:[new $$WPComp.ComplexObjects.Button($$WP.Strings.get("StayButtonText","Core.SafeToRedirectPopup"),null,"","stay"),new $$WPComp.ComplexObjects.Button($$WP.Strings.get("LeaveButtonText","Core.SafeToRedirectPopup"),null,"inlinedelete","leave")],TitleText:$$WP.Strings.get("SafeToRedirectTitle","Core.SafeToRedirectPopup"),Html:$$WP.Strings.get("Message","Core.SafeToRedirectPopup"),clickSafeToRedirect:function(n){var t=this;if(n.dataId)return WP.Events.beforeUnloadHold=n.dataId===$$WPComp.TOOLBARIDENTIFIER+"leave",t._alreadyExecutedCallback=!0,t.callback.apply(t.CallbackContext,[WP.Events.beforeUnloadHold]),t.dispose(!0),!1},show:function(){if(this._alreadyExecutedCallback){this.dispose(!0);return}this.Components$Component$show();WP.Events.SafeToUnloadWarningDisplayed=!0},dispose:function(n){var t=this;t._isDisposed||(t._alreadyExecutedCallback||(t._alreadyExecutedCallback=!0,t.callback.apply(t.CallbackContext,[!1])),t.Components$Component$dispose(n),WP.Events.SafeToUnloadWarningDisplayed=!1)}};$$WPComp.SafeToRedirectComponent.canceledRedirect=function(){delete WP.Events.beforeUnloadHold};$$WPComp.SafeToRedirectComponent.extend("Components.Component");$$WPComp.TimeoutWarningComponent=function(n){var f="inlinedelete",r="stay",i=null,e="@MYCHART@SecondsLeft@",t=this,u,o;$$WP.Strings.setDefaultNamespace("Core.TimeOutPopup");u=$$WP.HyperspaceSession?"FromHyperspace":WP.Events.showBeforeUnloadMessage()?"WithChanges":"TimeOut";t.PreHtml=n.Html||n.Text||$$WP.Strings.get(u+"Message");t.Html=t.PreHtml;$$WPComp.applySettings(n,t);t._SecondsAtStart=Math.floor(t.SecondsLeft)||60;$$WP.Strings.addMnemonic(e,t._SecondsAtStart.toString());o=$$WP.HyperspaceSession?[new $$WPComp.ComplexObjects.Button($$WP.Strings.getForTemplate("FromHyperspaceStayButtonText"),i,"",r)]:t.isPreLogin?[new $$WPComp.ComplexObjects.Button($$WP.Strings.getForTemplate("PreLoginStayButtonText"),i,"",r),new $$WPComp.ComplexObjects.Button($$WP.Strings.getForTemplate("PreLoginLogOutButtonText"),i,f,"leave")]:[new $$WPComp.ComplexObjects.Button($$WP.Strings.getForTemplate("StayButtonText"),i,"",r),new $$WPComp.ComplexObjects.Button($$WP.Strings.getForTemplate("LogOutButtonText"),i,f,"leave")];t._clickContext=t._clickContext||t;t.TitleText=t.TitleText||$$WP.Strings.getForTemplate(u+"Title");t.ToolbarButtons=o;t.Components$Component({});$$WP.Strings.removeMnemonic(e);$$WP.Strings.clearDefaultNamespace();$.proxy(t._createScreenReaderAlert(),t);t._timer=$.proxy(t._timer,t);t._TimerId=window.setTimeout(t._timer,1e3);t.$content.safeAttr("aria-hidden",!0);t._D0=new Date;t.addEventListener("click",t.clickTimeoutWarning);$$WPComp.TimeoutWarningComponent.hasVisibleInstance=!0};$$WPComp.TimeoutWarningComponent.prototype={ToolbarButtons:null,SecondsLeft:60,_SecondsAtStart:Number,_D0:new Date,_TimerId:Number,_isFirstTime:!0,IsClosable:!0,isPreLogin:!1,Class:"timeoutwarning",clickTimeoutWarning:function(n){if(n.dataId)return n.dataId===$$WPComp.TOOLBARIDENTIFIER+"leave"&&$$WPComp.TimeoutWarningComponent.leaveClick(this.isPreLogin),this.dispose(!0),!1},_timer:function(){var r="@MYCHART@SecondsLeft@",u="#screenReaderAlertTimeout",n=this,f,i,t;$afe.select(".Popup").removeAttr("aria-live");t=$afe.select(u);t.innerHTML=n.PreHtml;f=new Date;i=Math.floor(n._SecondsAtStart-Math.round((f-n._D0)/1e3,0));i<=0?($$WPComp.TimeoutWarningComponent.leaveClick(n.isPreLogin),n.dispose(!0)):($$WP.Strings.clearDefaultNamespace(),$$WP.Strings.setDefaultNamespace("Core.TimeOutPopup"),n._timerId=window.setTimeout(n._timer,1e3),(i%10==0||n._isFirstTime)&&(n._isFirstTime=!1,t=$afe.select(u),t.innerHTML=n.PreHtml,$$WP.Strings.addMnemonic(r,i.toString()),$$WP.Strings.setDisplayText(t,"Message"),$$WP.Strings.removeMnemonic(r)),$$WP.Strings.addMnemonic(r,i.toString()),n.html(n.PreHtml),$$WP.Strings.removeMnemonic(r),$$WP.Strings.clearDefaultNamespace())},dispose:function(n){var t=this;t._isDisposed||(window.clearTimeout(t._timerId),t._timerId=null,t.Components$Component$dispose(n),$$WPUtil.setActivity(),checkActivity(),$$WP.Strings.getNamespace("Core.TimeOutPopup").removeMnemonic("@MYCHART@SecondsLeft@"),$$WPComp.TimeoutWarningComponent.hasVisibleInstance=!1)},_createScreenReaderAlert:function(){var r="@MYCHART@SecondsLeft@",i=this,t,n;$$WP.Strings.clearDefaultNamespace();$$WP.Strings.setDefaultNamespace("Core.TimeOutPopup");t=i.$content;n=t.clone();n.addClass("clearlabel");n.safeAttr("id","screenReaderAlertTimeout");i.$container.safeAppend(n);t=$afe.select("#screenReaderAlertTimeout");t.innerHTML=i.PreHtml;$$WP.Strings.addMnemonic(r,i._SecondsAtStart.toString());$$WP.Strings.setDisplayText(t,"TimeOutMessage");$$WP.Strings.removeMnemonic(r);n.safeAttr("aria-hidden",!1);n.safeAttr("aria-live","assertive");n.safeAttr("aria-relevant","additions");n.safeAttr("aria-atomic",!0);$$WP.Strings.clearDefaultNamespace()}};$$WPComp.TimeoutWarningComponent.leaveClick=function(n){WP.Events.cancelBeforeUnload();var t,i;if(n){window.location!==window.parent.location?document.location.href=document.location.href:window.location.reload(!1);return}t=new $$WPComp.LoggingOutComponent;i=new $$WPContain.Popup({positioningFunction:$$WPContain.Positions.InsideCentered,Components:t,Class:"logout"});i.show(!0)};$$WPComp.TimeoutWarningComponent.extend("Components.Component");$$WPComp.LoggingOutComponent=function(n){this.Components$TemplateComponent(n)};$$WPComp.LoggingOutComponent.prototype={Class:"logout",ToolbarButtons:null,TitleText:$$WP.Strings.getForTemplate("LoggingOutTitle","Core.LoggingOutPopup"),template:$$WP.Templates.Core.loggingout,Data:{Message:$$WP.Strings.getForTemplate("Message","Core.LoggingOutPopup")},show:function(){this.Components$TemplateComponent$show();logOut()}};$$WPComp.LoggingOutComponent.extend("Components.TemplateComponent");$$WPComp.MessageComponent=function(n){var t=this;t.Components$Component(n);t.Message&&t.setMessage(t.Message);t.addEventListener("click",t._messageClick)};$$WPComp.MessageComponent.prototype={Class:"messageComponent",Message:"",IsClosable:!0,setMessage:function(n){if(n===null||typeof n=="undefined"){$$WP.Debug.logError("Trying to set non-existant html in a MessageComponent...");return}n instanceof Handlebars.SafeString&&($$WP.Debug.logError("A MessageComponent's text should be a String. It's currently a Handlebars.SafeString. Setting the content anyway..."),n=n.toString());this.html("<p>"+n+"<\/p>")},_messageClick:function(n){var t=this;if(n.dataId)return t.CallbackArgs=t.CallbackArgs||[],t.CallbackArgs.push(n.dataId),t._addedDataId=!0,t.dispose(!0),!1},dispose:function(n){var t=this;t._isDisposed||(t.Components$Component$dispose(n),typeof t.callback=="function"&&(t.CallbackArgs=t.CallbackArgs||[],t._addedDataId||t.CallbackArgs.push("close"),t.callback.apply(t.CallbackContext||t,t.CallbackArgs||[])))}};$$WPComp.MessageComponent.extend("Components.Component");$$WP.Components.CommunityListManagerComponent=function(n){var t=this,i,r;t.ListSelector=t.ListSelector||"ul";t.ListElementSelector=t.ListElementSelector||"li";t.Components$TemplateComponent(n);t._autoAddAfterWait=!0;t.SerializedIndex=t.SerializedIndex||"";t._compareFunction=$.proxy(t._compareFunction,t);i=$afe.select("ul#proxies").find("li.selected");r=new RegExp(makeLink("showfile.asp.key=").replace("/","/")+"[0-9]+","gi");t.UserPhoto=(r.exec(i.html())||[makeStaticLink("images/ProxySilhouette.png")])[0];t.PhotoColor=(i.safeAttr("class")||"").match(/\bcolor\d\b/i);t.PhotoColor=t.PhotoColor&&t.PhotoColor.length>0?t.PhotoColor[0]:"color1"};$$WP.Components.CommunityListManagerComponent.prototype={SearchString:"",CanSearch:!1,CanSort:!1,SortBy:"PrimaryDate",SortDescending:!0,Filter:"None",RenderedData:[],SerializedIndex:"",HasLoadedData:!1,NeverAutoFocus:!1,Class:"CommunityListManager",DataFromMultipleSources:!0,CurrentOrgHasAllHidden:!1,ContainerComponent:$$WP.Containers.CommunityListManagerContainer.prototype,_getNextPage:function(){var u="undefined",n=this,t,r=[],i;if(n.HasMoreData===!1||typeof n.HasMoreData===u){for(i in n.UnusedRecords)n.UnusedRecords[i].length>0&&(r=r.concat(n.UnusedRecords[i]),n.OldestRenderedDate=new Date(Math.min(n.OldestRenderedDate,n.UnusedRecords[i][n.UnusedRecords[i].length-1].PrimaryDate)),n.UnusedRecords[i]=[]);return r}for(;;){t=null;for(i in n.UnusedRecords)t=t||i,n.UnusedRecords[i].length>0&&(n.UnusedRecords[t].length===0||n.UnusedRecords[i][0].PrimaryDate>n.UnusedRecords[t][0].PrimaryDate)&&(t=i);if(typeof n.UnusedRecords[t]===u||n.UnusedRecords[t].length===0||(n.OldestRenderedDate=new Date(Math.min(n.OldestRenderedDate,n.UnusedRecords[t][0].PrimaryDate)),r.push(n.UnusedRecords[t].shift()),n.UnusedRecords[t].length===0&&n.Organizations[t].HasMoreData===!0))return r}},_updateHeaderFooter:function(n){var t=this,i,u=!1,f=0,r;if(t.Organizations)for(i in t.Organizations)if(t.Organizations[i].OrganizationId===i&&(f++,f>1)){u=!0;break}r=!1;for(organization in t.UnusedRecords)t.UnusedRecords[organization].length>0&&(r=!0);n=$$WPUtil.mergeObjects(n,{OldestRenderedDate:t.OldestRenderedDate?formatDate(t.OldestRenderedDate):null,AllDataDisplayed:!t.HasMoreData&&!r,HasMoreData:t.HasMoreData,SearchString:t.SearchString,Filter:t.Filter,SortBy:t.SortBy,SortDescending:t.SortDescending,ListCount:t.RenderedData.length,HasLoadedData:t.HasLoadedData,HasMultipleOrganizations:u,CurrentOrgHasAllHidden:t.CurrentOrgHasAllHidden,SkippedSomeResults:t.Data.SkippedSomeResults},!1,!0);n.ViewBagProperties=t.Data.ViewBagProperties;t.ContainerComponent.HeaderComponent.ListData=n;t.ContainerComponent.FooterComponent.ListData=n;t.ContainerComponent.HeaderComponent.refresh();t.ContainerComponent.FooterComponent.refresh()},addNextPage:function(n){var u=!0,t=this,e,r;if(t._waiting){t._autoAddAfterWait=u;t._userInitiatedAutoAdd=u;t.ContainerComponent.FooterComponent.CommunicationsIndicator.show(t.ContainerComponent.FooterComponent.$container);return}t.ContainerComponent.FooterComponent.show();t.ContainerComponent.FooterComponent.CommunicationsIndicator.hide();var f=u,i=t._getNextPage(),o=(!n||t._userInitiatedAutoAdd===u)&&t.NeverAutoFocus!==u,s,h;if(t._userInitiatedAutoAdd=!1,i.sort(t._compareFunction),i.length===0){if(t._updateHeaderFooter(),t.RenderedData.length>0)return;f=!1}else f=t.SortBy==="PrimaryDate"&&t.SortDescending&&!t.$container.hasClass("nodata")&&t.RenderedData.length>0,f=f&&i[0].PrimaryDate<=t.RenderedData[t.RenderedData.length-1].PrimaryDate;if(t.RenderedData.length===0&&i.length>0&&t.show(),f)r=dangerou$.parseHtml(t._getListHtml(i)),t.SearchString&&t.SearchString.length>0&&$$WPUtil.highlightNodeText(r.get(0),t.SearchString),t.RenderedData=t.RenderedData.concat(i),r.get(0).tagName.toLowerCase()!=="ul"&&(r=r.find("ul").first()),r=r.children("li"),$$WPUtil.removePopupListener(t.$content),t.$content.find("ul").first().safeAppend(r),t.$content.trigger("resize"),$$WPUtil.addPopupListener(t.$content),t.applyFilters(),o&&(s=r.first().safeAttr("data-index"));else if(i.length===0?o=!1:h=i[0].Id,t.RenderedData=t.RenderedData.concat(i),t.refresh(),o)for(e=0;e<t.RenderedData.length;e++)if(t.RenderedData[e].Id===h){s=e;break}t._updateHeaderFooter();i.length>0&&t.load();o&&t.focusOn(s)},focusOn:function(n){var t=this.$container.find("ul").children("li").get(n);document.activeElement===t?(t.blur(),window.setTimeout(this._focusOnCallback,200,t)):(t.focus(),document.activeElement!==t&&window.setTimeout(this._focusOnCallback,200,t))},_focusOnCallback:function(n){n&&n.focus()},_getListHtml:function(n,t){var i=this,r;return!n&&i.RenderedData.length===0?"":(r=0,n&&(r=i.RenderedData.length),t=$$WPUtil.mergeObjects(t||{},{List:n||i.RenderedData,UserPhoto:i.UserPhoto,ListOffset:r,PhotoColor:i.PhotoColor,ComponentNumber:i.ComponentNumber},!1,!0),i.template(t).trim())},refresh:function(){var n=this;n.RenderedData.sort(n._compareFunction);n.html(n._getListHtml());n.applyFilters()},_compareFunction:function(n,t,i,r){var s="PrimaryDate",u,f,e,o;if(i=i||this.SortBy,r=r||this.SortDescending,o=i.split("."),e=function(n,t){for(var i=0;i<t.length;i++)n=n[t[i]];return n},r===!0?(u=e(t,o),f=e(n,o)):(u=e(n,o),f=e(t,o)),u===f||f-u==0)return i!==s?this._compareFunction(n,t,s,!0):0;switch(typeof u){case"string":return f.toLowerCase()<u.toLowerCase()?1:-1;default:return u-f}},load:function(n){var r="listload",u="searchString=",t=this,f=t.RenderedData.length===0,i;if(n=n||"",t.SerializedIndex!==""&&t.HasMoreData===!1){t._waiting=!0;i=t.Url+u+encodeURIComponent(t.SearchString)+"&serializedIndex=ALLITEMSDISPLAYED&oldestRenderedDate=";i+=encodeURIComponent(t.OldestRenderedDate.toISOString())+"&"+n;t.__lastLoad=t.Components$TemplateComponent$load(i,f,r);return}t._waiting===!0&&t.cancelRequest(r,t.__lastLoad);t.Url.indexOf("?")===-1?t.Url+="?":t.Url[t.Url.length-1]!=="&"&&(t.Url+="&");t._waiting=!0;i=t.Url+u+encodeURIComponent(t.SearchString)+"&serializedIndex="+encodeURIComponent(t.SerializedIndex)+"&oldestRenderedDate=";i+=encodeURIComponent(t.OldestRenderedDate.toISOString())+"&"+n;t.__lastLoad=t.Components$TemplateComponent$load(i,f,r)},setData:function(n){var e=!0,u=!1,t=this,s,i,o,h,r,f;if(n==="ALLITEMSDISPLAYED"){t._waiting=u;return}if(t.Data=n,typeof t.Data.ViewBagProperties!="undefined")for(s in t.Data.ViewBagProperties)t.Data[s]=t.Data.ViewBagProperties[s];if(t.SerializedIndex=n.SerializedIndex||"",t.CanSearch=n.CanSearch||u,t.CanSort=n.CanSort||u,t.ErrorState=t.ErrorState||{},n.List){if(t.HasLoadedData=e,t.Organizations=t.Organizations||n.Organizations||[],!t.EverHadErrorState)for(i in t.UnusedRecords)t.ErrorState[i]=t.Organizations[i]?t.Organizations[i].HasMoreData:e;for(i in n.List){for(t.ErrorState[i]=u,t.Organizations[i]=n.Organizations[i],t.Organizations[i].HasMoreData=n.List[i].HasMoreData,f=n.List[i].List,o=f.length-1;o>-1;o--)r=f[o],r.PrimaryDate=new Date(r.PrimaryDate),r.Organization=r.Organization||t.Organizations[i],r.Id=encodeURIComponent(r.Id),r.CommunityIdUrlEncoded=encodeURIComponent(r.CommunityId);h=h||n.List[i].HasMoreData;t.UnusedRecords[i]=t.UnusedRecords[i]?t.UnusedRecords[i].concat(f):f}if(t.HasMoreData=h,!t.EverHadErrorState)for(i in t.UnusedRecords)if(t.UnusedRecords[i].ErrorState){t.EverHadErrorState=e;break}if(t._waiting=u,t._autoAddAfterWait=t.Data.AutoRenderThisSet||t._autoAddAfterWait,t.Data.List=[],t._autoAddAfterWait){t._autoAddAfterWait=u;t.addNextPage(e);return}}else t.clearModel(),t.refresh()},setSort:function(n,t){this.SortBy=n;this.SortDescending=t;this.refresh()},setSearch:function(n){n!==this.SearchString&&(this.SearchString=n,this.reload())},setFilter:function(n){var t=this;if(n!==t.Filter){t.Filter=n;switch(n.split("~")[0]){case"None":case"organization":t.applyFilters();return;default:t.reload();return}}},applyFilters:function(n){var r="hidden",t=this,c=t,o=0,s,u,l,a=0,f,h,i,e;for(s=t.$content.find("ul"),l=n?s.length:1,u=0;u<l;u++)for(h=$afe.jq(s[u]).children("li"),f=0;f<h.length;f++)i=$afe.jq(h[f]),e=parseInt(i.safeAttr("data-index"),10),isNaN(e)&&(e=a),c.shouldBeFiltered(c.RenderedData[e])?i.hasClass(r)||(o++,i.addClass(r)):i.hasClass(r)&&(o--,i.removeClass(r)),a++;t.CurrentOrgHasAllHidden=t.RenderedData&&t.RenderedData.length>0&&t.$content.find("li.hidden").length===t.RenderedData.length;t.$content.trigger("resize",{forceShrink:o>0})},shouldBeFiltered:function(n){var t=this,i;return t.Filter=t.Filter||"",i=t.Filter.split("~"),i[0]==="organization"?t.hasSourceOrg(n,i[1])?!1:!0:!1},hasSourceOrg:function(n,t){if(n.Organization.OrganizationId===t)return!0;if(n.OrganizationLinks)for(var r,i=0;i<n.OrganizationLinks.length;i++)if(r=n.OrganizationLinks[i],r.OrganizationId===t)return!0;return!1},reload:function(){this.clearModel();this.load();this._autoAddAfterWait=!0},resetUrl:function(n){this.Url!==n&&(this.Url=n,this.reload())},clearModel:function(){var n=this;n.SerializedIndex="";n.UnusedRecords={};n.RenderedData=[];n.OldestRenderedDate=new Date;n.HasLoadedData=!1;n.HasMoreData=!1;n.hide();n.$content.trigger("resize",{forceShrink:!0});n._updateHeaderFooter()},html:function(n,t){var i=this;i.Components$TemplateComponent$html(n,t);i.SearchString&&i.SearchString.length>0&&$$WPUtil.highlightNodeText(i.$content.get(0),i.SearchString)}};$$WP.Components.CommunityListManagerComponent.extend("Components.TemplateComponent"),function(){var t=null,n=function(n,t,u){var f=this;f.WP$BaseObject();f.Module=n||r.Default;f.Submodule=t||i.Default;f.IsoInstantUtc=u||(new Date).toISOString();f.ExtraInfoEntries=[]},u={Module:t,Submodule:t,IsoInstantUtc:t,ExtraInfoEntries:t,addEntryToExtraInfo:function(n,t,i){var r;t&&(Array.isArray(t)||(t=[t]),r={Key:n,Values:t,AreValuesEncrypted:i},this.ExtraInfoEntries.push(r))}},r={Default:0,Scheduling:1},i={Default:0,ConfirmationStep:1,CustomStep:2,DemographicVerificationStep:3,InsuranceVerificationStep:4,LandingPage:5,LocationStep:6,LQFStep:7,OnboardingStep:8,ProviderStep:9,ReasonForVisitStep:10,RequestStep:11,SlotStep:12,OrganizationAuthStep:13,OrganizationStep:14,PatientLocationStep:15,PlatformStep:16,QuickScheduleStep:17,SummaryStep:18,StopScheduling:19,SpecialtyStep:20},f=function(n){for(var r in i)if(i[r]===n)return r;return t};n.prototype=u;n.ModulesEnum=r;n.SubmodulesEnum=i;n.getNameFromSubmodule=f;$$WP.Analytics=$$WP.Analytics||{};$$WP.Analytics.ViewEvent=n;n.extend($$WP.BaseObject,"WP$Analytics$ViewEvent")}(),function(){var t=$$WP.Analytics.ViewEvent,n=function(){this.WP$Controllers$Controller()},i=function(n){if(!$$WP.DisableUsageTracking&&$$WP.Utilities.UI.IsLoggedIn){if(n.Module===t.ModulesEnum.Default){$$WP.Debug.logError("Module must be defined in order to log a view event.");return}$.post({url:makeLink("Analytics/LogViewEventForUsageTracking"),data:$$WPUtil.postify(n)})}},r=function(n){if(!$$WP.DisableUsageTracking){if($$WPUtil.guaranteeExistence($$WP,"ThirdPartyUsageTracking"),typeof $$WP.ThirdPartyUsageTracking.LogViewEvent!="function"){$$WP.Debug.logError("Attempted to log view event to third party but function does not exist. Did you include the correct JavaScript files?");return}$$WP.ThirdPartyUsageTracking.LogViewEvent(n.Path,n.Title,n.ExtraInfo)}},u=function(n){if($$WPUtil.canWriteCookies()){var n=n||!1,t=n?null:f;$$WP.TroveDisabled||sessionStorage.FormFactorReported!=="true"&&getCSRFTokenAsQS(function(i){$.ajax({url:makeLink("Analytics/LogFormFactor"),data:{width:e(),height:o(),guest:n,token:i},type:"POST",success:t})})}},f=function(){sessionStorage.setItem("FormFactorReported","true")},e=function(){return window.innerWidth},o=function(){return window.innerHeight};n.prototype={};n.logViewEvent=i;n.logThirdPartyViewEvent=r;n.logFormFactor=u;$$WP.Analytics=$$WP.Analytics||{};$$WP.Analytics.UsageTrackingController=n;n.extend($$WP.Controllers.Controller,"WP$Analytics$UsageTrackingController")}()